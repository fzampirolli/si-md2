<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR" xml:lang="pt-BR"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Minera√ß√£o de Dados e Regras de Associa√ß√£o ‚Äì Sistemas Inteligentes e Minera√ß√£o de Dados</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../cap01/cap01.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-27c261d06b905028a18691de25d09dde.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspond√™ncias adicionais",
    "search-more-match-text": "mais correspond√™ncia neste documento",
    "search-more-matches-text": "mais correspond√™ncias neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../cap02/cap02.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Minera√ß√£o de Dados e Regras de Associa√ß√£o</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Procurar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Sistemas Inteligentes e Minera√ß√£o de Dados</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Procurar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pref√°cio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cap01/cap01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Sistemas Inteligentes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cap02/cap02.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Minera√ß√£o de Dados e Regras de Associa√ß√£o</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">√çndice</h2>
   
  <ul>
  <li><a href="#introdu√ß√£o" id="toc-introdu√ß√£o" class="nav-link active" data-scroll-target="#introdu√ß√£o"><span class="header-section-number">2.1</span> Introdu√ß√£o</a></li>
  <li><a href="#minera√ß√£o-de-dados" id="toc-minera√ß√£o-de-dados" class="nav-link" data-scroll-target="#minera√ß√£o-de-dados"><span class="header-section-number">2.2</span> Minera√ß√£o de Dados</a></li>
  <li><a href="#regras-de-associa√ß√£o" id="toc-regras-de-associa√ß√£o" class="nav-link" data-scroll-target="#regras-de-associa√ß√£o"><span class="header-section-number">2.3</span> Regras de Associa√ß√£o</a></li>
  <li><a href="#etapa-1-gera√ß√£o-de-conjuntos-frequentes-com-suporte-geq-mathbfsupmin" id="toc-etapa-1-gera√ß√£o-de-conjuntos-frequentes-com-suporte-geq-mathbfsupmin" class="nav-link" data-scroll-target="#etapa-1-gera√ß√£o-de-conjuntos-frequentes-com-suporte-geq-mathbfsupmin"><span class="header-section-number">2.4</span> Etapa 1: Gera√ß√£o de Conjuntos Frequentes com Suporte <span class="math inline">\(\geq \mathbf{SupMin}\)</span></a></li>
  <li><a href="#etapa-2-gera√ß√£o-de-regra-de-associa√ß√£o-a-partir-dos-conjuntos-frequentes" id="toc-etapa-2-gera√ß√£o-de-regra-de-associa√ß√£o-a-partir-dos-conjuntos-frequentes" class="nav-link" data-scroll-target="#etapa-2-gera√ß√£o-de-regra-de-associa√ß√£o-a-partir-dos-conjuntos-frequentes"><span class="header-section-number">2.5</span> Etapa 2: Gera√ß√£o de Regra de Associa√ß√£o a partir dos Conjuntos Frequentes</a></li>
  <li><a href="#como-gerar-regras-de-associa√ß√£o-usando-a-ferramenta-weka" id="toc-como-gerar-regras-de-associa√ß√£o-usando-a-ferramenta-weka" class="nav-link" data-scroll-target="#como-gerar-regras-de-associa√ß√£o-usando-a-ferramenta-weka"><span class="header-section-number">2.6</span> Como Gerar Regras de Associa√ß√£o Usando a Ferramenta Weka</a></li>
  <li><a href="#pr√°tica-em-python" id="toc-pr√°tica-em-python" class="nav-link" data-scroll-target="#pr√°tica-em-python"><span class="header-section-number">2.7</span> üß™ Pr√°tica em Python</a>
  <ul class="collapse">
  <li><a href="#introdu√ß√£o-1" id="toc-introdu√ß√£o-1" class="nav-link" data-scroll-target="#introdu√ß√£o-1"><span class="header-section-number">2.7.1</span> Introdu√ß√£o</a></li>
  <li><a href="#pr√°tica-1-configura√ß√£o-e-dados-estruturados" id="toc-pr√°tica-1-configura√ß√£o-e-dados-estruturados" class="nav-link" data-scroll-target="#pr√°tica-1-configura√ß√£o-e-dados-estruturados"><span class="header-section-number">2.7.2</span> üîπ Pr√°tica 1 ‚Äî Configura√ß√£o e Dados Estruturados</a></li>
  <li><a href="#pr√°tica-2-representa√ß√£o-de-transa√ß√µes" id="toc-pr√°tica-2-representa√ß√£o-de-transa√ß√µes" class="nav-link" data-scroll-target="#pr√°tica-2-representa√ß√£o-de-transa√ß√µes"><span class="header-section-number">2.7.3</span> üîπ Pr√°tica 2 ‚Äî Representa√ß√£o de Transa√ß√µes</a></li>
  <li><a href="#pr√°tica-3-implementando-suporte-e-confian√ßa" id="toc-pr√°tica-3-implementando-suporte-e-confian√ßa" class="nav-link" data-scroll-target="#pr√°tica-3-implementando-suporte-e-confian√ßa"><span class="header-section-number">2.7.4</span> üîπ Pr√°tica 3 ‚Äî Implementando Suporte e Confian√ßa</a></li>
  <li><a href="#pr√°tica-4-algoritmo-apriori-simplificado" id="toc-pr√°tica-4-algoritmo-apriori-simplificado" class="nav-link" data-scroll-target="#pr√°tica-4-algoritmo-apriori-simplificado"><span class="header-section-number">2.7.5</span> üîπ Pr√°tica 4 ‚Äî Algoritmo Apriori Simplificado</a></li>
  <li><a href="#pr√°tica-5-simula√ß√£o-do-apriori-cl√°ssico-join-prune" id="toc-pr√°tica-5-simula√ß√£o-do-apriori-cl√°ssico-join-prune" class="nav-link" data-scroll-target="#pr√°tica-5-simula√ß√£o-do-apriori-cl√°ssico-join-prune"><span class="header-section-number">2.7.6</span> üîπ Pr√°tica 5 ‚Äî Simula√ß√£o do Apriori Cl√°ssico (Join &amp; Prune)</a></li>
  </ul></li>
  <li><a href="#uso-do-notebooklm-como-tutor-complementar" id="toc-uso-do-notebooklm-como-tutor-complementar" class="nav-link" data-scroll-target="#uso-do-notebooklm-como-tutor-complementar"><span class="header-section-number">2.8</span> ü§ñ Uso do NotebookLM como Tutor Complementar</a></li>
  <li><a href="#considera√ß√µes-finais" id="toc-considera√ß√µes-finais" class="nav-link" data-scroll-target="#considera√ß√µes-finais"><span class="header-section-number">2.9</span> Considera√ß√µes Finais</a></li>
  <li><a href="#lista-de-exerc√≠cios-1" id="toc-lista-de-exerc√≠cios-1" class="nav-link" data-scroll-target="#lista-de-exerc√≠cios-1"><span class="header-section-number">2.10</span> Lista de Exerc√≠cios</a>
  <ul class="collapse">
  <li><a href="#desafios-de-programa√ß√£o-extras" id="toc-desafios-de-programa√ß√£o-extras" class="nav-link" data-scroll-target="#desafios-de-programa√ß√£o-extras"><span class="header-section-number">2.10.1</span> üîß Desafios de Programa√ß√£o (extras)</a></li>
  </ul></li>
  <li><a href="#refer√™ncias-do-cap√≠tulo" id="toc-refer√™ncias-do-cap√≠tulo" class="nav-link" data-scroll-target="#refer√™ncias-do-cap√≠tulo"><span class="header-section-number">2.11</span> Refer√™ncias do Cap√≠tulo</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Minera√ß√£o de Dados e Regras de Associa√ß√£o</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><a href="https://colab.research.google.com/github/fzampirolli/si-md2/blob/main/si-md2/notebooks_alunos/cap02/cap02_aluno.ipynb"><img src="images/colab-badge.png" class="img-fluid"></a></p>
<section id="introdu√ß√£o" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="introdu√ß√£o"><span class="header-section-number">2.1</span> Introdu√ß√£o</h2>
<p>A Minera√ß√£o de Dados √© uma disciplina t√£o vasta que qualquer publica√ß√£o sobre o tema obriga o autor a selecionar alguns t√≥picos em detrimento de outros n√£o menos importantes. A atividade de <strong>Regras de Associa√ß√£o</strong> foi o t√≥pico escolhido para iniciarmos a apresenta√ß√£o das principais atividades da Minera√ß√£o de Dados por envolver ideias bem intuitivas. A analogia entre Regras de Associa√ß√£o e Cesta de Compras facilita o entendimento de como descobrir padr√µes de associa√ß√£o entre itens de um conjunto qualquer.</p>
</section>
<section id="minera√ß√£o-de-dados" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="minera√ß√£o-de-dados"><span class="header-section-number">2.2</span> Minera√ß√£o de Dados</h2>
<p>Durante o processo de <strong>Descoberta de Conhecimento em Bases de Dados</strong>, <strong>KDD</strong>, √© na etapa de <strong>Minera√ß√£o de Dados</strong> que efetivamente s√£o encontrados os padr√µes de associa√ß√£o impl√≠citos nos dados. A an√°lise automatizada dessa massa de dados visa detectar regularidades, ou quebra de regularidade, que constitui informa√ß√£o impl√≠cita, por√©m desconhecida, e √∫til para determinado fim.</p>
<p>A Minera√ß√£o de Dados pode ser vista como a sistematiza√ß√£o de teorias, t√©cnicas e algoritmos desenvolvidos em outras disciplinas j√° consagradas, como a Estat√≠stica, a Intelig√™ncia Artificial, o Aprendizado de M√°quina, a Base de Dados etc. O prop√≥sito da Minera√ß√£o de Dados √© detectar automaticamente padr√µes de associa√ß√£o √∫teis e n√£o √≥bvios em grandes quantidades de dados, veja <a href="#fig-2-1" class="quarto-xref">Figura&nbsp;<span>2.1</span></a>.</p>
<p>No dia a dia, uma quantidade incalcul√°vel de dados √© gerada na forma de registros de vendas, textos brutos, imagens, sons, gr√°ficos etc., tanto por sistemas computacionais como por seres humanos, constituindo uma esp√©cie de informa√ß√£o n√£o estruturada. Embora esta forma de registro de dados seja adequada para o ser humano, quando se trata de analisar grandes quantidades de dados de forma automatizada, √© comum e conveniente que se introduza alguma <strong>estrutura</strong> que facilite o acesso e o processamento sistem√°tico.</p>
<div id="fig-2-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_1.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.1: A Rela√ß√£o da Minera√ß√£o de Dados com Algumas Disciplinas Correlatas.
</figcaption>
</figure>
</div>
<p>Para que parte de toda essa informa√ß√£o n√£o estruturada possa ser utilizada na Minera√ß√£o de Dados, geralmente √© feita uma sele√ß√£o e um pr√©-processamento visando transformar dados brutos em cole√ß√µes estruturadas de dados. Em termos pr√°ticos, para nossas considera√ß√µes iniciais, a estrutura de representa√ß√£o de uma Base de Dados pode ser semelhante a uma tabela de dados, sendo cada linha dessa tabela uma <strong>transa√ß√£o</strong> ou um <strong>exemplo</strong>. Cada <strong>transa√ß√£o</strong> √© composta por um ou mais <strong>itens</strong> ou, visto de outra forma, cada <strong>exemplo</strong> √© caracterizado por seus <strong>atributos</strong>.</p>
<p>As Tabelas <a href="#tbl-2-cestas" class="quarto-xref"><span>2.1</span></a>, <a href="#tbl-2-booleana" class="quarto-xref"><span>2.2</span></a> e <a href="#tbl-2-tempo" class="quarto-xref"><span>2.3</span></a> ilustram formas de dados estruturados convenientes para a Minera√ß√£o de Dados.</p>
<div id="tbl-2-cestas" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="327" data-quarto-raw="true">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-cestas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.1: Cestas de Compras.
</figcaption>
<div aria-describedby="tbl-2-cestas-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">TID</th>
<th style="text-align: left;">Itens</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: left;">{Arroz, Feij√£o, √ìleo}</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: left;">{Queijo, Vinho}</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: left;">{Arroz, Feij√£o, Batata, √ìleo}</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: left;">{Arroz, √Ågua, Queijo, Vinho}</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: left;">{Arroz, Feij√£o, Batata, √ìleo}</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Na <a href="#tbl-2-cestas" class="quarto-xref">Tabela&nbsp;<span>2.1</span></a> cada uma das Transa√ß√µes possui uma IDentifica√ß√£o (TID), e seus itens representam artigos vendidos em um supermercado. Se a tabela de itens for muito extensa, como costuma ser em casos reais, pode ser ainda mais conveniente representar cada um de seus itens na forma de um atributo associado a um valor booleano, como mostra a <a href="#tbl-2-booleana" class="quarto-xref">Tabela&nbsp;<span>2.2</span></a>.</p>
<div class="cell" data-quarto-raw="true" data-execution_count="328">
<div id="tbl-2-booleana" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="328" data-quarto-raw="true">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-booleana-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.2: Representa√ß√£o Booleana de Cestas de Compras.
</figcaption>
<div aria-describedby="tbl-2-booleana-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="328">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">TID</th>
<th style="text-align: center;">Arroz</th>
<th style="text-align: center;">Feij√£o</th>
<th style="text-align: center;">Batata</th>
<th style="text-align: center;">√ìleo</th>
<th style="text-align: center;">√Ågua</th>
<th style="text-align: center;">Queijo</th>
<th style="text-align: center;">Vinho</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">n</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Um exemplo cl√°ssico de uma Base de Dados usada em artigos sobre Minera√ß√£o de Dados √© apresentada na <a href="#tbl-2-tempo" class="quarto-xref">Tabela&nbsp;<span>2.3</span></a> (<span class="citation" data-cites="quinlan1986">Quinlan (<a href="#ref-quinlan1986" role="doc-biblioref">1986</a>)</span> <em>apud</em> <span class="citation" data-cites="witten2005">Witten; Frank (<a href="#ref-witten2005" role="doc-biblioref">2005</a>)</span>), composta por dados fict√≠cios sobre as condi√ß√µes de tempo para que ocorra ou n√£o a partida de um esporte n√£o especificado. A tabela √© composta por 14 exemplos (linhas), cada um com cinco atributos (colunas): Dia, Temperatura, Umidade, Vento e Partida. A tabela pode tamb√©m ser interpretada de outra forma, como sendo composta por quatro atributos (Dia, Temperatura, Umidade e Vento) e uma classe (Partida), que representa o resultado da combina√ß√£o dos quatro atributos.</p>
<div class="cell" data-quarto-raw="true" data-execution_count="329">
<div id="tbl-2-tempo" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="329" data-quarto-raw="true">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-tempo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.3: Tabela do Tempo.
</figcaption>
<div aria-describedby="tbl-2-tempo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="329">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Dia</th>
<th style="text-align: left;">Temperatura</th>
<th style="text-align: left;">Umidade</th>
<th style="text-align: left;">Vento</th>
<th style="text-align: left;">Partida</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ensolarado</td>
<td style="text-align: left;">Elevada</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">N√£o</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ensolarado</td>
<td style="text-align: left;">Elevada</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Verdadeiro</td>
<td style="text-align: left;">N√£o</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nublado</td>
<td style="text-align: left;">Elevada</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chuvoso</td>
<td style="text-align: left;">Amena</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chuvoso</td>
<td style="text-align: left;">Baixa</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chuvoso</td>
<td style="text-align: left;">Baixa</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Verdadeiro</td>
<td style="text-align: left;">N√£o</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nublado</td>
<td style="text-align: left;">Baixa</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Verdadeiro</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ensolarado</td>
<td style="text-align: left;">Amena</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">N√£o</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ensolarado</td>
<td style="text-align: left;">Baixa</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chuvoso</td>
<td style="text-align: left;">Amena</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ensolarado</td>
<td style="text-align: left;">Amena</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Verdadeiro</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nublado</td>
<td style="text-align: left;">Amena</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Verdadeiro</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nublado</td>
<td style="text-align: left;">Elevada</td>
<td style="text-align: left;">Normal</td>
<td style="text-align: left;">Falso</td>
<td style="text-align: left;">Sim</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chuvoso</td>
<td style="text-align: left;">Amena</td>
<td style="text-align: left;">Alta</td>
<td style="text-align: left;">Verdadeiro</td>
<td style="text-align: left;">N√£o</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Uma an√°lise mais atenta dos exemplos das Tabelas <a href="#tbl-2-cestas" class="quarto-xref"><span>2.1</span></a> e <a href="#tbl-2-tempo" class="quarto-xref"><span>2.3</span></a> revela que alguns desses atributos sempre aparecem juntos e que, portanto, v√°rias <strong>Regras de Associa√ß√£o</strong> podem ser extra√≠das dessas tabelas.</p>
</section>
<section id="regras-de-associa√ß√£o" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="regras-de-associa√ß√£o"><span class="header-section-number">2.3</span> Regras de Associa√ß√£o</h2>
<p>A representa√ß√£o do conhecimento atrav√©s de regras, tamb√©m conhecidas como regras <em>IF-THEN</em> ou Regras de Produ√ß√£o, √© largamente utilizada porque, entre outras vantagens sobre formas alternativas de representa√ß√£o do conhecimento, s√£o facilmente compreendidas pelo ser humano, f√°ceis de serem alteradas, validadas e verificadas, e de baixo custo para a cria√ß√£o de sistemas baseados em regras (<span class="citation" data-cites="padhy2010">Padhy (<a href="#ref-padhy2010" role="doc-biblioref">2010</a>)</span>).</p>
<p><span class="math inline">\(\textcolor{blue}{\textbf{Regra de Associa√ß√£o}}\)</span> s√£o uma forma espec√≠fica de representa√ß√£o de conhecimento que descrevem padr√µes de associa√ß√£o impl√≠citos entre um conjunto de atributos ou itens de uma Base de Dados, e que podem ajudar a predizer com alta probabilidade a presen√ßa, ou n√£o, de outro conjunto de atributos ou itens.</p>
<p>Dito de forma equivalente, uma Regra de Associa√ß√£o revela que a presen√ßa de um conjunto <span class="math inline">\(\mathbf{X}\)</span> de itens numa transa√ß√£o implica outro conjunto <span class="math inline">\(\mathbf{Y}\)</span> de itens, i.e., <span class="math inline">\(\mathbf{X} = \{a, b, \ldots\} \Rightarrow \mathbf{Y} = \{p, \ldots, z\}\)</span>. Note que o fato de um conjunto de itens <span class="math inline">\(\mathbf{X}\)</span> (antecedente) estar sempre associado a outro <span class="math inline">\(\mathbf{Y}\)</span> (consequente) n√£o significa obrigatoriamente que um seja a causa de outro, i.e., n√£o h√° necessariamente rela√ß√£o de causalidade entre antecedente e consequente e sim mera ocorr√™ncia simult√¢nea de itens com certa probabilidade.</p>
<p>A estrutura geral de uma <strong>Regra de Associa√ß√£o</strong> assume a seguinte forma:</p>
<p><span class="math display">\[
\textcolor{red}{\textbf{If }}
(\text{Conjunto } \mathbf{X} \text{ de Itens})
\;\textcolor{red}{\textbf{ then }}\;
(\text{Conjunto } \mathbf{Y} \text{ de Itens}),
\quad \text{sendo } \mathbf{X} \cap \mathbf{Y} = \varnothing
\]</span></p>
<p>Com base na <a href="#tbl-2-tempo" class="quarto-xref">Tabela&nbsp;<span>2.3</span></a>, v√°rias Regras de Associa√ß√£o podem ser formuladas:</p>
<p><span id="eq-2-1"><span class="math display">\[
\textcolor{red}{\textbf{If }}
(\text{Temperatura} = \text{Baixa})
\;\textcolor{red}{\textbf{ then }}\;
(\text{Umidade} = \text{Normal})
\tag{2.1}\]</span></span></p>
<p><span id="eq-2-2"><span class="math display">\[
\textcolor{red}{\textbf{If }}
(\text{Umidade} = \text{Normal})
\;\textcolor{red}{\textbf{ and }}\;
(\text{Vento} = \text{Falso})
\;\textcolor{red}{\textbf{ then }}\;
(\text{Partida} = \text{Sim})
\tag{2.2}\]</span></span></p>
<p><span id="eq-2-3"><span class="math display">\[
\textcolor{red}{\textbf{If }}
(\text{Dia} = \text{Ensolarado})
\;\textcolor{red}{\textbf{ and }}\;
(\text{Partida} = \text{N√£o})
\;\textcolor{red}{\textbf{ then }}\;
(\text{Umidade} = \text{Alta})
\tag{2.3}\]</span></span></p>
<p><span id="eq-2-4"><span class="math display">\[
\textcolor{red}{\textbf{If }}
(\text{Vento} = \text{Falso})
\;\textcolor{red}{\textbf{ and }}\;
(\text{Partida} = \text{N√£o})
\;\textcolor{red}{\textbf{ then }}\;
(\text{Temperatura} = \text{Elevada})
\;\textcolor{red}{\textbf{ and }}\;
(\text{Umidade} = \text{Alta})
\tag{2.4}\]</span></span></p>
<p>Estas s√£o apenas algumas das muitas Regras de Associa√ß√£o que podem ser formuladas com base na <a href="#tbl-2-tempo" class="quarto-xref">Tabela&nbsp;<span>2.3</span></a>. Para selecionar as Regras de Associa√ß√£o mais representativas, i.e., aquelas que se apliquem a um grande n√∫mero de exemplos com alta probabilidade de acerto, precisaremos de m√©tricas para avaliar o alcance ou a for√ßa de cada regra. Dois dos mais conhecidos indicadores s√£o <strong>Suporte</strong> e <strong>Confian√ßa</strong>.</p>
<p><strong>Suporte</strong> ‚Äî para cada regra do tipo <span class="math inline">\(\mathbf{X} \Rightarrow \mathbf{Y}\)</span>, este par√¢metro indica a quantos exemplos da tabela esta regra satisfaz (i.e., cont√©m) tanto ao conjunto de itens de <span class="math inline">\(\mathbf{X}\)</span> quanto ao de <span class="math inline">\(\mathbf{Y}\)</span>, ou seja, indica sua <strong>cobertura</strong> com rela√ß√£o ao n√∫mero total <span class="math inline">\(N\)</span> de exemplos da tabela. Portanto,</p>
<p><span class="math display">\[\mathbf{\mathbf{Sup}}\left( \mathbf{X \rightarrow Y} \right)\mathbf{=}\frac{\mathbf{|X \cup Y|}}{\mathbf{N}}\]</span></p>
<p>Por ex., com rela√ß√£o √† primeira <a href="#eq-2-1" class="quarto-xref">Regra&nbsp;<span>2.1</span></a>, h√° quatro exemplos na <a href="#tbl-2-tempo" class="quarto-xref">Tabela&nbsp;<span>2.3</span></a> em que <span class="math inline">\(\mathbf{X} \cup \mathbf{Y} = \{\text{Temperatura} = \text{Baixa},\; \text{Umidade} = \text{Normal}\}\)</span>. Portanto,</p>
<p><span class="math display">\[
\mathbf{Sup}\left( \text{Regra 2.1} \right)
= \frac{\left| X \cup Y \right|}{N}
= \frac{\left| \left\{ \text{Temperatura = Baixa, Umidade = Normal} \right\} \right|}{N}
= \frac{4}{14} = 0{,}29
\]</span></p>
<p>A <a href="#eq-2-2" class="quarto-xref">Regra&nbsp;<span>2.2</span></a> tamb√©m possui <span class="math inline">\(\mathbf{Sup}(\text{Regra 2.2}) = \frac{4}{14}\)</span>; a terceira regra apresenta <span class="math inline">\(\mathbf{Sup}(\text{Regra 2.3}) = \frac{3}{14}\)</span>, enquanto a quarta regra possui <span class="math inline">\(\mathbf{Sup}(\text{Regra 2.4}) = \frac{1}{14}\)</span>.</p>
<p><strong>Confian√ßa</strong> ‚Äî a confian√ßa de uma regra reflete o n√∫mero de exemplos que cont√™m <span class="math inline">\(\mathbf{Y}\)</span> dentre todos aqueles que cont√™m <span class="math inline">\(\mathbf{X}\)</span> (observe que, al√©m de <span class="math inline">\(\mathbf{X} \Rightarrow \mathbf{Y}\)</span>, podem existir regras do tipo <span class="math inline">\(\mathbf{X} \Rightarrow \mathbf{Z}\)</span>, <span class="math inline">\(\mathbf{X} \Rightarrow \mathbf{W}\)</span> etc.). Em outras palavras, o par√¢metro Confian√ßa determina quantos s√£o os exemplos em que <span class="math inline">\(\mathbf{X}\)</span> implica <span class="math inline">\(\mathbf{Y}\)</span>, em compara√ß√£o com aqueles em que <span class="math inline">\(\mathbf{X}\)</span> pode ou n√£o implicar <span class="math inline">\(\mathbf{Y}\)</span>. A esse par√¢metro costuma-se tamb√©m atribuir o nome de <span class="math inline">\(\mathbf{Acur√°cia}\)</span>.</p>
<p><span class="math display">\[
\mathbf{Conf}\!\left(\mathbf{X} \Rightarrow \mathbf{Y}\right)
=
\frac{\left| \mathbf{X} \cup \mathbf{Y} \right|}
     {\left| \mathbf{X} \right|}
=
\frac{\mathbf{Sup}\!\left(\mathbf{X} \Rightarrow \mathbf{Y}\right)}
     {\mathbf{Sup}\!\left(\mathbf{X}\right)}
\]</span></p>
<p>Por ex., com rela√ß√£o √† primeira <a href="#eq-2-1" class="quarto-xref">Regra&nbsp;<span>2.1</span></a>, h√° quatro exemplos na <a href="#tbl-2-tempo" class="quarto-xref">Tabela&nbsp;<span>2.3</span></a> em que <span class="math inline">\(\mathbf{X} \cup \mathbf{Y} = \{\text{Temperatura} = \text{Baixa},\; \text{Umidade} = \text{Normal}\}\)</span> e, coincidentemente, quatro exemplos em que <span class="math inline">\(\mathbf{X} = \{\text{Temperatura} = \text{Baixa}\}\)</span>. Portanto,</p>
<p><span class="math display">\[
\mathbf{Conf}\!\left(\text{Regra 2.1}\right)
=
\frac{\left| \mathbf{X} \cup \mathbf{Y} \right|}{\left| \mathbf{X} \right|}
=
\frac{\left| \{\text{Temperatura} = \text{Baixa},\; \text{Umidade} = \text{Normal}\} \right|}
     {\left| \{\text{Temperatura} = \text{Baixa}\} \right|}
=
\frac{4}{4}
=
1{,}0
\]</span></p>
<p>A <a href="#eq-2-2" class="quarto-xref">Regra&nbsp;<span>2.2</span></a> tamb√©m possui <span class="math inline">\(\mathbf{Conf}\!\left(\text{Regra 2.2}\right) = \frac{4}{4}\)</span>; a terceira regra apresenta <span class="math inline">\(\mathbf{Conf}\!\left(\text{Regra 2.3}\right) = \frac{3}{3}\)</span>, enquanto a quarta regra possui <span class="math inline">\(\mathbf{Conf}\!\left(\text{Regra 2.4}\right) = \frac{1}{2}\)</span>.</p>
<p>Regras de Associa√ß√£o s√£o particularmente √∫teis para analisar o comportamento de clientes e propor ‚Äúvendas casadas‚Äù. A informa√ß√£o de que clientes que compram o item A geralmente compram o item B pode aumentar significativamente as vendas de uma loja ou livraria, j√° que toda vez que um cliente manifestar a inten√ß√£o de comprar o item A, a loja pode tamb√©m lhe oferecer o item B.</p>
<p>Mas o fato de um simples conjunto de itens poder gerar muitas regras de associa√ß√£o faz com que o n√∫mero de regras associadas a uma base de dados seja t√£o grande a ponto de a maioria dessas regras n√£o ter qualquer interesse pr√°tico. Para contornar esta situa√ß√£o, antes de come√ßar a gerar as regras de associa√ß√£o, √© comum que sejam estabelecidos um valor de Suporte M√≠nimo (<span class="math inline">\(\mathbf{SupMin}\)</span>) e de Confian√ßa M√≠nima (<span class="math inline">\(\mathbf{ConfMin}\)</span>). Regras com suporte muito baixo podem ser resultado de compras feitas ao acaso e, portanto, n√£o fornecem informa√ß√µes de interesse. Por outro lado, regras com confian√ßa muito baixa podem indicar que seu poder de predi√ß√£o √© baixo e, portanto, n√£o √© muito aconselh√°vel assumir que <span class="math inline">\(\mathbf{X}\)</span> implica <span class="math inline">\(\mathbf{Y}\)</span> com base nessas regras.</p>
<p><span class="citation" data-cites="agrawal1993mining">Agrawal; Imieli≈Ñski; Swami (<a href="#ref-agrawal1993mining" role="doc-biblioref">1993</a>)</span> ao introduzir o conceito de Regras de Associa√ß√£o prop√¥s um algoritmo denominado <strong>Apriori</strong> no qual Regras de Associa√ß√£o s√£o geradas em duas etapas:</p>
<ul>
<li><p>Dado um conjunto de transa√ß√µes <strong>T</strong>, primeiramente s√£o criados conjuntos de itens frequentes, chamados de <strong>Conjuntos Frequentes</strong>, que devem satisfazer o limite de <span class="math inline">\(\mathbf{SupMin}\)</span>;</p></li>
<li><p>a partir desses Conjuntos Frequentes s√£o geradas <strong>Regras de Associa√ß√£o</strong> com confian√ßa maior ou igual <strong>ConfMin</strong>.</p></li>
</ul>
</section>
<section id="etapa-1-gera√ß√£o-de-conjuntos-frequentes-com-suporte-geq-mathbfsupmin" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="etapa-1-gera√ß√£o-de-conjuntos-frequentes-com-suporte-geq-mathbfsupmin"><span class="header-section-number">2.4</span> Etapa 1: Gera√ß√£o de Conjuntos Frequentes com Suporte <span class="math inline">\(\geq \mathbf{SupMin}\)</span></h2>
<p>As Tabelas <a href="#tbl-2-simplificada" class="quarto-xref"><span>2.4</span></a> e <a href="#tbl-2-alternativa" class="quarto-xref"><span>2.5</span></a> mostram vers√µes simplificadas da <a href="#tbl-2-booleana" class="quarto-xref">Tabela&nbsp;<span>2.2</span></a>, aqui adaptada para que cada item possa ser representado por apenas uma letra.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div id="tbl-2-simplificada" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-simplificada-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.4: Vers√£o simplificada da <a href="#tbl-2-booleana" class="quarto-xref">Tabela&nbsp;<span>2.2</span></a>.
</figcaption>
<div aria-describedby="tbl-2-simplificada-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">TID</th>
<th style="text-align: center;">A</th>
<th style="text-align: center;">B</th>
<th style="text-align: center;">C</th>
<th style="text-align: center;">D</th>
<th style="text-align: center;">E</th>
<th style="text-align: center;">F</th>
<th style="text-align: center;">G</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div id="tbl-2-alternativa" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-alternativa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.5: Vers√£o alternativa da <a href="#tbl-2-booleana" class="quarto-xref">Tabela&nbsp;<span>2.2</span></a>.
</figcaption>
<div aria-describedby="tbl-2-alternativa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">TID</th>
<th style="text-align: left;">Itens</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: left;">{A, B, D}</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: left;">{F, G}</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: left;">{A, B, C, D}</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: left;">{A, E, F, G}</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: left;">{A, B, C, D}</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</div>
</div>
</div>
<p>De acordo com o algoritmo Apriori, para se obter os poss√≠veis Conjuntos Frequentes relacionados a um conjunto de transa√ß√µes, inicialmente devem ser criados Conjuntos Frequentes com 1 item apenas e que satisfa√ßam o crit√©rio de Suporte M√≠nimo. A seguir s√£o criados recursivamente Conjuntos Frequentes com 2 itens, depois com 3 itens, e assim sucessivamente.</p>
<p>Os poss√≠veis Conjuntos Frequentes com 1 item apenas, e seus respectivos valores de Suporte, est√£o representados na <a href="#tbl-2-frequentes-1" class="quarto-xref">Tabela&nbsp;<span>2.6</span></a>.</p>
<div id="tbl-2-frequentes-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.6: Poss√≠veis Conjuntos Frequentes com 1 Item.
</figcaption>
<div aria-describedby="tbl-2-frequentes-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A}</td>
<td style="text-align: center;">4/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{E}</td>
<td style="text-align: center;">1/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{F}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{G}</td>
<td style="text-align: center;">2/5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Suponhamos que o <span class="math inline">\(\mathbf{SupMin}\)</span> tenha sido definido como <span class="math inline">\(2/5\)</span>, ou seja, <span class="math inline">\(40\%\)</span>. De acordo com este crit√©rio, o conjunto {E} n√£o satisfaz <span class="math inline">\(\mathbf{SupMin}\)</span> e deve ser eliminado. Portanto os Conjuntos Frequentes com 1 Item que satisfazem o crit√©rio de <span class="math inline">\(\mathbf{SupMin}\)</span> maior ou igual a <span class="math inline">\(2/5\)</span> est√£o representados na <a href="#tbl-2-frequentes-1-supmin" class="quarto-xref">Tabela&nbsp;<span>2.7</span></a>.</p>
<p>Ao adotar o procedimento de poda dos candidatos a Conjunto Frequente que n√£o satisfazem o crit√©rio de <span class="math inline">\(\mathbf{SupMin}\)</span>, o n√∫mero total de Conjuntos Frequentes gerados pode cair significativamente. Em princ√≠pio, dada uma Base de Dados com <span class="math inline">\(k\)</span> itens, o n√∫mero de poss√≠veis Conjuntos Frequentes √© <span class="math inline">\(\lvert \mathbf{CF} \rvert = 2^{k} - 1\)</span> (excluindo o conjunto vazio). Como em nossa <a href="#tbl-2-simplificada" class="quarto-xref">Tabela&nbsp;<span>2.4</span></a> h√° 7 itens, ent√£o <span class="math inline">\(\lvert \mathbf{CF} \rvert = 2^{7} - 1 = 127\)</span>.</p>
<div id="tbl-2-frequentes-1-supmin" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-1-supmin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.7: Conjuntos Frequentes com 1 Item e <span class="math inline">\(\mathbf{SupMin} \geq \frac{2}{5}\)</span>.
</figcaption>
<div aria-describedby="tbl-2-frequentes-1-supmin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A}</td>
<td style="text-align: center;">4/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{F}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{G}</td>
<td style="text-align: center;">2/5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>A seguir devem ser formados novos Conjuntos Frequentes com 2 Itens, partindo-se dos Conjuntos Frequentes com 1 Item. Note que o Suporte de um Conjunto Frequente com 2 Itens pode ter no m√°ximo o menor valor de Suporte de cada um de seus subconjuntos, i. e., dos respectivos Conjuntos Frequentes com 1 Item. De acordo com esta mesma propriedade, conhecida como <strong>Princ√≠pio Apriori</strong> ou antimonot√¥nico, qualquer subconjunto de um Conjunto Frequente tamb√©m ser√° um Conjunto Frequente. Por exemplo, se <span class="math inline">\(\{A, B\}\)</span> for um Conjunto Frequente, ent√£o <span class="math inline">\(\{A\}\)</span> e <span class="math inline">\(\{B\}\)</span> tamb√©m s√£o Conjuntos Frequentes e t√™m <span class="math inline">\(\mathbf{Suporte} \geq \mathbf{SupMin}\)</span>.</p>
<p>A <a href="#tbl-2-frequentes-2" class="quarto-xref">Tabela&nbsp;<span>2.8</span></a> mostra os poss√≠veis Conjuntos Frequentes com 2 Itens e os respectivos valores de Suporte.</p>
<p>Os conjuntos de 2 itens foram obtidos por combina√ß√£o dos conjuntos de 1 item, enquanto que os valores de Suporte foram obtidos inspecionando-se as Tabelas <a href="#tbl-2-simplificada" class="quarto-xref"><span>2.4</span></a> e <a href="#tbl-2-alternativa" class="quarto-xref"><span>2.5</span></a>.</p>
<p>Note que os detalhes de como os conjuntos de itens s√£o efetivamente gerados dependem da forma como o algoritmo Apriori foi implementado, e diferem um pouco da exposi√ß√£o simplificada que se adotou aqui por raz√µes did√°ticas.</p>
<p>Para calcular o Suporte dos Conjuntos Frequentes foi necess√°rio ler a Base de Dados, que em nosso caso √© pequena e est√° representada pela <a href="#tbl-2-simplificada" class="quarto-xref">Tabela&nbsp;<span>2.4</span></a>. Em uma implementa√ß√£o computacional √© altamente desej√°vel que toda a Base de Dados possa ser lida na mem√≥ria principal do computador. Por√©m, se a Base de Dados for muito grande ela provavelmente ter√° de ser lida no disco r√≠gido. Para minimizar o n√∫mero de vezes que a Base de Dados √© consultada, muitos candidatos a Conjuntos Frequentes podem ser inicialmente criados e depois eliminados, obtendo-se assim significativos ganhos de tempo.</p>
<div id="tbl-2-frequentes-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.8: Poss√≠veis Conjuntos Frequentes com 2 Itens.
</figcaption>
<div aria-describedby="tbl-2-frequentes-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A, B}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{A, C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{A, D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{A, F}</td>
<td style="text-align: center;">1/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{A, G}</td>
<td style="text-align: center;">1/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B, C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{B, D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B, F}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{B, G}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">{C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{C, F}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">{C, G}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{D, F}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">{D, G}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{F, G}</td>
<td style="text-align: center;">2/5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Para n√≥s, neste momento, o importante √© compreender como os Conjuntos Frequentes com <span class="math inline">\(k\)</span> Itens podem ser gerados de forma relativamente simples pela combina√ß√£o de Conjuntos Frequentes com <span class="math inline">\(k-1\)</span> Itens.</p>
<p>Aplicando-se novamente o crit√©rio de <span class="math inline">\(\mathbf{SupMin} \geq \frac{2}{5}\)</span>, restam apenas os Conjuntos Frequentes com 2 Itens apresentados na <a href="#tbl-2-frequentes-supmin" class="quarto-xref">Tabela&nbsp;<span>2.9</span></a>.</p>
<div id="tbl-2-frequentes-supmin" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-supmin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.9: Conjuntos Frequentes com 2 Itens e <span class="math inline">\(\mathbf{SupMin} \geq \frac{2}{5}\)</span>.
</figcaption>
<div aria-describedby="tbl-2-frequentes-supmin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A, B}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{A, C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{A, D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B, C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{B, D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{F, G}</td>
<td style="text-align: center;">2/5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>O pr√≥ximo passo agora consiste em criar novos Conjuntos Frequentes com 3 Itens, partindo-se dos Conjuntos Frequentes com 2 Itens, cujo resultado √© mostrado na <a href="#tbl-2-frequentes-3" class="quarto-xref">Tabela&nbsp;<span>2.10</span></a>.</p>
<div id="tbl-2-frequentes-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.10: Poss√≠veis Conjuntos Frequentes com 3 Itens.
</figcaption>
<div aria-describedby="tbl-2-frequentes-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A, B, C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{A, B, D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{A, C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{A, F, G}</td>
<td style="text-align: center;">1/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{B, C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B, F, G}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{C, D, F}</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">{C, F, G}</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Neste caso, novamente, alguns Conjuntos Frequentes n√£o satisfazem o crit√©rio de <span class="math inline">\(\mathbf{SupMin} \geq \frac{2}{5}\)</span>, havendo a necessidade de poda para que esses conjuntos n√£o participem da etapa seguinte.</p>
<div id="tbl-2-frequentes-3-supmin" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-3-supmin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.11: Conjuntos Frequentes com 3 Itens e <span class="math inline">\(\mathbf{SupMin} \geq \frac{2}{5}\)</span>.
</figcaption>
<div aria-describedby="tbl-2-frequentes-3-supmin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A, B, C}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{A, B, D}</td>
<td style="text-align: center;">3/5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">{A, C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
<tr class="even">
<td style="text-align: center;">{B, C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Vamos agora gerar novos Conjuntos Frequentes com 4 Itens, partindo-se dos Conjuntos Frequentes com 3 Itens (<a href="#tbl-2-frequentes-3-supmin" class="quarto-xref">Tabela&nbsp;<span>2.11</span></a>), cujo resultado √© mostrado na <a href="#tbl-2-frequentes-4" class="quarto-xref">Tabela&nbsp;<span>2.12</span></a>.</p>
<div id="tbl-2-frequentes-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-frequentes-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.12: Poss√≠veis Conjuntos Frequentes com 4 Itens.
</figcaption>
<div aria-describedby="tbl-2-frequentes-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Itens</th>
<th style="text-align: center;">Suporte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">{A, B, C, D}</td>
<td style="text-align: center;">2/5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Se houvesse ao menos dois Conjuntos Frequentes com 4 Itens poder√≠amos ainda tentar gerar Conjuntos Frequentes com 5 Itens. Mas como h√° apenas um Conjunto Frequente com 4 Itens, esta primeira etapa do algoritmo Apriori termina aqui.</p>
</section>
<section id="etapa-2-gera√ß√£o-de-regra-de-associa√ß√£o-a-partir-dos-conjuntos-frequentes" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="etapa-2-gera√ß√£o-de-regra-de-associa√ß√£o-a-partir-dos-conjuntos-frequentes"><span class="header-section-number">2.5</span> Etapa 2: Gera√ß√£o de Regra de Associa√ß√£o a partir dos Conjuntos Frequentes</h2>
<p>Uma vez obtidos os Conjuntos Frequentes com Suporte <span class="math inline">\(\geq \mathbf{SupMin}\)</span>, √© poss√≠vel extrair de cada Conjunto Frequente com <span class="math inline">\(k\)</span> itens um total de <span class="math inline">\(2^{k} - 2\)</span> Regras de Associa√ß√£o (excluindo-se o conjunto vazio na posi√ß√£o de antecedente <span class="math inline">\(\varnothing \Rightarrow \mathbf{CF}\)</span> ou de consequente <span class="math inline">\(\mathbf{CF} \Rightarrow \varnothing\)</span>). Na Etapa 1 foram gerados os seguintes Conjuntos Frequentes:</p>
<p></p>
<p><span class="math display">\[
\{A\},\; \{B\},\; \{C\},\; \{D\},\; \{F\},\; \{G\}
\]</span></p>
<p></p>
<p><span class="math display">\[
\{A, B\},\; \{A, C\},\; \{A, D\},\; \{B, C\},\; \{B, D\},\; \{C, D\},\; \{F, G\}
\]</span></p>
<p></p>
<p><span class="math display">\[
\{A, B, C\},\; \{A, B, D\},\; \{A, C, D\},\; \{B, C, D\}
\]</span></p>
<p></p>
<p><span class="math display">\[
\{A, B, C, D\}
\]</span></p>
<p>Para extrair as Regras de Associa√ß√£o de um Conjunto Frequente √© necess√°rio, primeiramente, gerar todos os subconjuntos n√£o vazios desse Conjunto Frequente <span class="math inline">\(\mathbf{CF}\)</span> e, para cada subconjunto <span class="math inline">\(\mathbf{S} \subset \mathbf{CF}\)</span>, produzir uma Regra de Associa√ß√£o do tipo <span class="math inline">\(\mathbf{S} \Rightarrow (\mathbf{CF} - \mathbf{S})\)</span> que satisfa√ßa o crit√©rio de <span class="math inline">\(\mathbf{Confian√ßa} \geq \mathbf{ConfMin}\)</span>.</p>
<p>Por exemplo, dado <span class="math inline">\(\mathbf{CF} = \{A, B, C\}\)</span>, seus subconjuntos n√£o vazios poss√≠veis s√£o <span class="math inline">\(\mathbf{S} = \{\{A\}, \{B\}, \{C\}, \{A, B\}, \{A, C\},\)</span> <span class="math inline">\(\{B, C\}\}\)</span>. Portanto, √© poss√≠vel extrair seis Regras de Associa√ß√£o do <span class="math inline">\(\mathbf{CF} = \{A, B, C\}\)</span> que envolvam os tr√™s itens:</p>
<p><span class="math display">\[
\{A\} \Rightarrow \{B, C\},
\]</span></p>
<p><span class="math display">\[
\{B\} \Rightarrow \{A, C\},
\]</span></p>
<p><span class="math display">\[
\{C\} \Rightarrow \{A, B\},
\]</span></p>
<p><span class="math display">\[
\{A, B\} \Rightarrow \{C\},
\]</span></p>
<p><span class="math display">\[
\{A, C\} \Rightarrow \{B\},
\]</span></p>
<p><span class="math display">\[
\{B, C\} \Rightarrow \{A\}.
\]</span></p>
<p>Como o Suporte de todos os subconjuntos j√° ter√° sido calculado na Etapa 1, n√£o ser√° necess√°rio percorrer novamente a Base de Dados para calcular a Confian√ßa de cada Regra de Associa√ß√£o. Basta reutilizar esses valores j√° calculados, pois</p>
<p><span class="math display">\[
\mathrm{Conf}\!\left( \mathbf{S} \rightarrow \mathbf{CF} - \mathbf{S} \right)
=
\frac{\left| \mathbf{S} \cup (\mathbf{CF} - \mathbf{S}) \right|}
     {\left| \mathbf{S} \right|}
=
\frac{\left| \mathbf{CF} \right|}
     {\left| \mathbf{S} \right|}
=
\frac{\mathrm{Sup}\!\left( \mathbf{CF} \right)}
     {\mathrm{Sup}\!\left( \mathbf{S} \right)}
\]</span></p>
<p>Voltando ao exemplo inicial da <a href="#tbl-2-alternativa" class="quarto-xref">Tabela&nbsp;<span>2.5</span></a>, como o Suporte de <span class="math inline">\(\mathbf{CF} = \{A, B, C\}\)</span> √© <span class="math inline">\(\frac{2}{5}\)</span> (veja <a href="#tbl-2-frequentes-3-supmin" class="quarto-xref">Tabela&nbsp;<span>2.11</span></a>), e considerando os Suportes de seus subconjuntos,</p>
<div class="text-center">
<p><span class="math inline">\(\mathbf{Sup}(\{A\}) = \frac{4}{5} \quad\)</span> (veja <a href="#tbl-2-frequentes-1" class="quarto-xref">Tabela&nbsp;<span>2.6</span></a>)</p>
<p><span class="math inline">\(\mathbf{Sup}(\{B\}) = \frac{3}{5} \quad\)</span> (veja <a href="#tbl-2-frequentes-1" class="quarto-xref">Tabela&nbsp;<span>2.6</span></a>)</p>
<p><span class="math inline">\(\mathbf{Sup}(\{C\}) = \frac{2}{5} \quad\)</span> (veja <a href="#tbl-2-frequentes-1" class="quarto-xref">Tabela&nbsp;<span>2.6</span></a>)</p>
<p><span class="math inline">\(\mathbf{Sup}(\{A, B\}) = \frac{3}{5} \quad\)</span> (veja <a href="#tbl-2-frequentes-2" class="quarto-xref">Tabela&nbsp;<span>2.8</span></a>)</p>
<p><span class="math inline">\(\mathbf{Sup}(\{A, C\}) = \frac{2}{5} \quad\)</span> (veja <a href="#tbl-2-frequentes-2" class="quarto-xref">Tabela&nbsp;<span>2.8</span></a>)</p>
<p><span class="math inline">\(\mathbf{Sup}(\{B, C\}) = \frac{2}{5} \quad\)</span> (veja <a href="#tbl-2-frequentes-2" class="quarto-xref">Tabela&nbsp;<span>2.8</span></a>)</p>
</div>
<br>
<p>
a Confian√ßa de cada uma das seis regras poss√≠veis ser√°:
</p>
<p><span class="math display">\[
\mathbf{Conf}(A \Rightarrow B, C)
=
\frac{\frac{2}{5}}{\frac{4}{5}}
=
0{,}50
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(B \Rightarrow A, C)
=
\frac{\frac{2}{5}}{\frac{3}{5}}
=
0{,}66
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(C \Rightarrow A, B)
=
\frac{\frac{2}{5}}{\frac{2}{5}}
=
1{,}00
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(A, B \Rightarrow C)
=
\frac{\frac{2}{5}}{\frac{3}{5}}
=
0{,}66
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(A, C \Rightarrow B)
=
\frac{\frac{2}{5}}{\frac{2}{5}}
=
1{,}00
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(B, C \Rightarrow A)
=
\frac{\frac{2}{5}}{\frac{2}{5}}
=
1{,}00
\]</span></p>
<p>Suponha que, para o problema em quest√£o, tenham sido adotados <span class="math inline">\(\mathbf{SupMin} = 40\%\)</span> e <span class="math inline">\(\mathbf{ConfMin} = 90\%\)</span>. Nesse caso, apenas tr√™s das regras acima seriam aproveitadas:</p>
<p><span class="math display">\[
\mathbf{Conf}(C \Rightarrow A, B) = 1{,}00
\quad
\{Batata\} \Rightarrow \{Arroz, Feij√£o\}
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(A, C \Rightarrow B) = 1{,}00
\quad
\{Arroz, Batata\} \Rightarrow \{Feij√£o\}
\]</span></p>
<p><span class="math display">\[
\mathbf{Conf}(B, C \Rightarrow A) = 1{,}00
\quad
\{Feij√£o, Batata\} \Rightarrow \{Arroz\}
\]</span></p>
<p>Aplicando-se o procedimento explicado acima para todos os 18 <span class="math inline">\(\mathbf{CFs}\)</span> obtidos na Etapa 1, seriam geradas aproximadamente 30 Regras de Associa√ß√£o com <span class="math inline">\(\mathbf{SupMin} = 40\%\)</span> e <span class="math inline">\(\mathbf{ConfMin} = 90\%\)</span> (na realidade, chegamos ao n√∫mero 30 por meio de simula√ß√£o no Weka, como ser√° mostrado na Atividade Pr√°tica com o Weka).</p>
</section>
<section id="como-gerar-regras-de-associa√ß√£o-usando-a-ferramenta-weka" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="como-gerar-regras-de-associa√ß√£o-usando-a-ferramenta-weka"><span class="header-section-number">2.6</span> Como Gerar Regras de Associa√ß√£o Usando a Ferramenta Weka</h2>
<p>Nesta se√ß√£o ser√° apresentado um pequeno tutorial sobre a gera√ß√£o de Regras de Associa√ß√£o usando o algoritmo ‚ÄúApriori‚Äù implementado na ferramenta de Aprendizado de M√°quina para tarefas de Minera√ß√£o de Dados Weka <span class="citation" data-cites="frank2016weka">(<a href="#ref-frank2016weka" role="doc-biblioref">Frank; Hall; Witten, 2016</a>)</span>. A vers√£o utilizada √© a 3.6.7 (<span class="math inline">\(\textcolor{red}{\textbf{vers√£o 3.8.6?}}\)</span>). Para fazer uma simula√ß√£o no Weka, a Base de Dados ter√° de ser escrita ou no formato CSV <em>(Comma-Separated Value)</em> (‚Äú.csv‚Äù) ou no formato ‚ÄúARFF‚Äù <em>(Attribute-Relation File Format)</em>, um formato bastante simples e intuitivo dessa ferramenta. Com o arquivo ‚Äú.arff‚Äù carregado, podemos ajustar os par√¢metros Suporte e Confian√ßa e rodar o algoritmo Apriori.</p>
<p><strong>Passo 1</strong> - Vamos supor que nossa Base de Dados tenha sido retirada de uma planilha eletr√¥nica (‚Äú.xls‚Äù) e salva no formato ‚Äú.csv‚Äù, como mostra a <a href="#fig-2-2" class="quarto-xref">Figura&nbsp;<span>2.2</span></a>.</p>
<div id="fig-2-2" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-2-2" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-2-2a" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-2-2a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_2a.png" class="img-fluid figure-img" style="width:95.0%" data-ref-parent="fig-2-2">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-2-2a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Planilha ‚Äú.xls‚Äù
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-2-2" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-2-2b" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-2-2b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_2b.png" class="img-fluid figure-img" style="width:45.0%" data-ref-parent="fig-2-2">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-2-2b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) ‚Äú.csv‚Äù
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.2: A Base de Dados Transacoes_1 na Forma (a) Planilha ‚Äú.xls‚Äù e (b) ‚Äú.csv‚Äù.
</figcaption>
</figure>
</div>
<p>Como o Weka tem um conversor interno do formato ‚Äú.csv‚Äù para ‚Äú.arff‚Äù, vamos primeiramente usar este recurso. Depois vamos mostrar como transformar manualmente o arquivo ‚Äú.csv‚Äù para ‚Äú.arff‚Äù.</p>
<p>Obs.: Certifique-se que em seu arquivo ‚Äú.csv‚Äù o separador de c√©lulas seja efetivamente a v√≠rgula ‚Äú,‚Äù e n√£o ‚Äú;‚Äù. Se o arquivo ‚Äú.csv‚Äù gerado pela sua planilha utilizar ‚Äú;‚Äù, fa√ßa a substitui√ß√£o para ‚Äú,‚Äù. Caso contr√°rio, ocorrer√° um erro de leitura no Weka e o arquivo ser√° interpretado de forma completamente diferente do esperado.</p>
<p>A <a href="#tbl-2-weka-db" class="quarto-xref">Tabela&nbsp;<span>2.13</span></a> apresenta a representa√ß√£o booleana das cestas de compras, em que cada coluna (A, B, C, ‚Ä¶) indica a presen√ßa (<code>y</code>) ou aus√™ncia (<code>n</code>) de um item em cada transa√ß√£o. Esse formato √© amplamente utilizado em tarefas de minera√ß√£o de dados, como a extra√ß√£o de regras de associa√ß√£o.</p>
<div id="tbl-2-weka-db" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="330" data-quarto-raw="true">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-weka-db-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabela&nbsp;2.13: Representa√ß√£o Booleana de Cestas de Compras para utilizar no Weka.
</figcaption>
<div aria-describedby="tbl-2-weka-db-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">A</th>
<th style="text-align: left;">B</th>
<th style="text-align: left;">C</th>
<th style="text-align: left;">D</th>
<th style="text-align: left;">E</th>
<th style="text-align: left;">F</th>
<th style="text-align: left;">G</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
</tr>
<tr class="even">
<td style="text-align: center;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
</tr>
<tr class="even">
<td style="text-align: center;">y</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">y</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
<td style="text-align: left;">n</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<blockquote class="blockquote">
<p><strong>Instru√ß√£o:</strong> Utilize o bot√£o abaixo para baixar o arquivo <code>Transacoes_1.csv</code> e utiliz√°-lo no tutorial do Weka.</p>
</blockquote>
<div id="cell-download-csv-only" class="cell" data-quarto-raw="true" data-execution_count="331">
<div id="download-csv-only" class="cell-output cell-output-display">

<div style="margin-top:20px; margin-bottom:20px;">
    <a href="data:text/csv;base64,QSxCLEMsRCxFLEYsRwp5LHksbix5LG4sbixuCm4sbixuLG4sbix5LHkKeSx5LHkseSxuLG4sbgp5LG4sbixuLHkseSx5CnkseSx5LHksbixuLG4K" download="Transacoes_1.csv" style="background-color:#1b5e20; color:white; padding:10px 18px; text-decoration:none; 
              border-radius:8px; font-family:sans-serif; font-size:14px; font-weight:bold; 
              display:inline-block; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        üì• Baixar Arquivo Transacoes_1.csv
    </a>
</div>
</div>
</div>
<p><strong>Passo 2</strong> ‚Äì Dispare o Weka (‚ÄúGUI Chooser‚Äù) e tome a op√ß√£o ‚ÄúExplorer‚Äù, que corresponde √† vers√£o com recursos gr√°ficos e √≠cones (em vez de linha de comando). Veja <a href="#fig-2-3" class="quarto-xref">Figura&nbsp;<span>2.3</span></a>.</p>
<div id="fig-2-3" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-2-3" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-2-3a" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-2-3a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_3a.png" class="img-fluid figure-img" style="width:70.0%" data-ref-parent="fig-2-3">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-2-3a-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) GUI Chooser
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-2-3" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-2-3b" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-2-3b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_3b.png" class="img-fluid figure-img" style="width:70.0%" data-ref-parent="fig-2-3">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-2-3b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Explorer
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.3: Telas Iniciais do Weka (a) GUI Chooser e (b) Explorer.
</figcaption>
</figure>
</div>
<p><strong>Passo 3 ‚Äì</strong> Com a aba superior ‚ÄúPreprocess‚Äù escolhida, d√™ um clique em ‚ÄúOpen file...‚Äù. Uma janela denominada ‚ÄúOpen‚Äù deve se abrir. Ajuste a op√ß√£o de ‚ÄúFile Format:‚Äù para ‚Äú.csv‚Äù, e escolha o arquivo ‚ÄúTransacoes_1.csv‚Äù, conforme mostra a <a href="#fig-2-4" class="quarto-xref">Figura&nbsp;<span>2.4</span></a>.</p>
<div id="fig-2-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_4.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.4: Janela ‚ÄúOpen‚Äù com a Op√ß√£o ‚ÄúFile Format:‚Äù em ‚Äú.csv‚Äù.
</figcaption>
</figure>
</div>
<p><strong>Passo 4</strong> ‚Äì A tela do Weka Explorer deve apresentar os sete atributo do arquivo <code>Transacoes_1</code>, como mostra a <a href="#fig-2-5" class="quarto-xref">Figura&nbsp;<span>2.5</span></a>.</p>
<div id="fig-2-5" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_5.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.5: Os Sete Atributos do Arquivo <code>Transacoes_1</code> S√£o Mostrados.
</figcaption>
</figure>
</div>
<p><strong>Passo 5</strong> ‚Äì Como nossa ‚ÄúBase de Dados‚Äù √© muito pequena, a convers√£o manual do arquivo ‚Äú.csv‚Äù para ‚Äú.arff‚Äù pode ser feita muito rapidamente.</p>
<p>Digite no arquivo ‚ÄúTransacoes_1.csv‚Äù as palavras-chave ‚Äú@relation‚Äù, ‚Äú@attribute‚Äù e ‚Äú@data‚Äù, de acordo com a <a href="#fig-2-6" class="quarto-xref">Figura&nbsp;<span>2.6</span></a>, salve e feche o arquivo ‚Äú.csv‚Äù. Mude a termina√ß√£o do arquivo de ‚Äú.csv‚Äù para ‚Äú.arff‚Äù. H√° ainda outras alternativas: Crie um arquivo ‚ÄúTransacoes_1.txt‚Äù com o conte√∫do mostrado abaixo na <a href="#fig-2-6" class="quarto-xref">Figura&nbsp;<span>2.6</span></a> (certifique-se de que se trata efetivamente de arquivo tipo ‚Äú.txt‚Äù e n√£o, por ex., ‚ÄúTransacoes_1.txt.doc‚Äù ou ‚ÄúTransacoes_1.txt.rtf‚Äù). Feche o arquivo e mude a termina√ß√£o para ‚Äú.arff‚Äù, ou seja, para ‚ÄúTransacoes_1.arff‚Äù.</p>
<div id="fig-2-6" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_6.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.6: Arquivo ARFF (Transacoes_1.arff), com Itens Ausentes Representados por ‚Äún‚Äù
</figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p><strong>Instru√ß√£o:</strong> Utilize o bot√£o abaixo para baixar o arquivo <code>Transacoes_1.arff</code> e utiliz√°-lo no tutorial do Weka.</p>
</blockquote>
<div id="cell-download-arff-only" class="cell" data-quarto-raw="true" data-execution_count="332">
<div id="download-arff-only" class="cell-output cell-output-display">
<div style="margin-top:20px; margin-bottom:20px;">
        <a href="data:application/octet-stream;base64,QHJlbGF0aW9uIFRyYW5zYWNvZXNfMQoKQGF0dHJpYnV0ZSBBIHt5LCBufQpAYXR0cmlidXRlIEIge3ksIG59CkBhdHRyaWJ1dGUgQyB7eSwgbn0KQGF0dHJpYnV0ZSBEIHt5LCBufQpAYXR0cmlidXRlIEUge3ksIG59CkBhdHRyaWJ1dGUgRiB7eSwgbn0KQGF0dHJpYnV0ZSBHIHt5LCBufQoKQGRhdGEKeSx5LG4seSxuLG4sbgpuLG4sbixuLG4seSx5CnkseSx5LHksbixuLG4KeSxuLG4sbix5LHkseQp5LHkseSx5LG4sbixuCg==" download="Transacoes_1.arff" style="background-color:#1b5e20; color:white; padding:10px 18px; text-decoration:none; 
                  border-radius:8px; font-family:sans-serif; font-size:14px; font-weight:bold; 
                  display:inline-block; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            üì• Baixar Arquivo Transacoes_1.arff
        </a>
    </div>
</div>
</div>
<p><strong>Passo 6</strong> ‚Äì Com o arquivo ‚ÄúTransacoes_1.arff‚Äù pronto, disparar o Weka, selecionar a aba ‚ÄúPreprocess‚Äù, depois clicar na op√ß√£o ‚ÄúOpen file...‚Äù e escolher o arquivo ‚ÄúTransacoes1_.arff‚Äù, conforme mostra a <a href="#fig-2-7" class="quarto-xref">Figura&nbsp;<span>2.7</span></a>.</p>
<div id="fig-2-7" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_7.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-7-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.7: Aba ‚ÄúPreprocess‚Äù + ‚ÄúOpen file‚Ä¶‚Äù para Escolha do Arquivo ARFF.
</figcaption>
</figure>
</div>
<p><strong>Passo 7</strong> ‚Äì Depois de abrir o arquivo ‚ÄúTransacoes_1.arff‚Äù, ainda com a aba ‚ÄúPreprocess‚Äù selecionada, escolha ‚ÄúNo class‚Äù (ao lado de ‚ÄúVisualize all‚Äù), conforme ilustra a <a href="#fig-2-8" class="quarto-xref">Figura&nbsp;<span>2.8</span></a>. (Como vamos gerar Regras de Associa√ß√£o, qualquer um dos atributos pode funcionar como ‚Äúclasse‚Äù. Este conceito vai ser melhor explicado quando formos estudar Regras de Classifica√ß√£o.).</p>
<div id="fig-2-8" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_8.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-8-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.8: Sele√ß√£o da Op√ß√£o ‚ÄúNo class‚Äù para Regras de Associa√ß√£o.
</figcaption>
</figure>
</div>
<p><strong>Passo 8</strong> ‚Äì Na aba superior do Weka, escolher ‚ÄúAssociate‚Äù e ao lado de ‚ÄúChoose‚Äù clicar duas vezes sobre o algoritmo ‚ÄúApriori‚Äù, conforme mostra a <a href="#fig-2-9" class="quarto-xref">Figura&nbsp;<span>2.9</span></a>.</p>
<div id="fig-2-9" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_9.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-9-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.9: Ajuste dos Par√¢metros de Entrada do Algoritmo Apriori.
</figcaption>
</figure>
</div>
<p><strong>Passo 9 ‚Äì</strong> Na janela que se abre, ajustar o <span class="math inline">\(\mathbf{SupMin}\)</span> (‚ÄúlowerBoundMinSupport‚Äù) para 0.4, a ConfMin (minMetric) para 0.9 e o n√∫mero de regras mostradas (‚ÄúnumRules‚Äù) para 1000, conforme mostra a <a href="#fig-2-10" class="quarto-xref">Figura&nbsp;<span>2.10</span></a>. Clicar em ‚ÄúOK‚Äù.</p>
<div id="fig-2-10" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_10.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.10: Ajuste dos Par√¢metros SupMin e ConfMin.
</figcaption>
</figure>
</div>
<p><strong>Passo 10</strong> ‚Äì Ao clicar em ‚ÄúStart‚Äù (ver <a href="#fig-2-9" class="quarto-xref">Figura&nbsp;<span>2.9</span></a>) centenas de Regras de Associa√ß√£o ser√£o geradas, a maioria delas sem qualquer interesse, conforme ilustra a <a href="#fig-2-11" class="quarto-xref">Figura&nbsp;<span>2.11</span></a>. Um dos riscos da gera√ß√£o de Regras de Associa√ß√£o √© que muitas delas podem n√£o ter qualquer significado pr√°tico. Para contornar este tipo de problema, √© poss√≠vel introduzir pequenas mudan√ßas na forma como os atributos s√£o declarados e reduzir significativamente o n√∫mero de regras geradas.</p>
<div id="fig-2-11" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-11-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_11.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-11-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.11: Algumas Regras de Associa√ß√£o Geradas com o Arquivo ‚ÄúTransacoes_1.arff‚Äù.
</figcaption>
</figure>
</div>
<p><strong>Passo 11</strong> ‚Äì Uma forma de diminuir o n√∫mero de regras √© substituir os valores ausentes de atributo ‚Äún‚Äù por ‚Äú?‚Äù. Crie um arquivo ‚ÄúTransacoes_2.arff‚Äù conforme mostra a <a href="#fig-2-12" class="quarto-xref">Figura&nbsp;<span>2.12</span></a>.</p>
<div id="fig-2-12" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-12-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_12.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-12-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.12: Arquivo ‚ÄúTransacoes_2.arff‚Äù com Itens Ausentes Representados por ‚Äú?‚Äù.
</figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p><strong>Instru√ß√£o:</strong> Utilize o bot√£o abaixo para baixar o arquivo <code>Transacoes_2.arff</code> e utiliz√°-lo no tutorial do Weka.</p>
</blockquote>
<div id="cell-download-arff-v2" class="cell" data-quarto-raw="true" data-execution_count="333">
<div id="download-arff-v2" class="cell-output cell-output-display">
<div style="margin-top:20px; margin-bottom:20px;">
        <a href="data:application/octet-stream;base64,QHJlbGF0aW9uIFRyYW5zYWNvZXNfMgoKQGF0dHJpYnV0ZSBBIHt5fQpAYXR0cmlidXRlIEIge3l9CkBhdHRyaWJ1dGUgQyB7eX0KQGF0dHJpYnV0ZSBEIHt5fQpAYXR0cmlidXRlIEUge3l9CkBhdHRyaWJ1dGUgRiB7eX0KQGF0dHJpYnV0ZSBHIHt5fQoKQGRhdGEKeSx5LD8seSw/LD8sPwo/LD8sPyw/LD8seSx5CnkseSx5LHksPyw/LD8KeSw/LD8sPyx5LHkseQp5LHkseSx5LD8sPyw/Cg==" download="Transacoes_2.arff" style="background-color:#1b5e20; color:white; padding:10px 18px; text-decoration:none; 
                  border-radius:8px; font-family:sans-serif; font-size:14px; font-weight:bold; 
                  display:inline-block; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            üì• Baixar Arquivo Transacoes_2.arff
        </a>
    </div>
</div>
</div>
<p>Isso evitar√° que o Weka crie regras sem qualquer significado pr√°tico, envolvendo itens ausentes, como por exemplo <span class="math inline">\(\{F = n\} \Rightarrow \{G = n\}\)</span> (Regra 20 na <a href="#fig-2-11" class="quarto-xref">Figura&nbsp;<span>2.11</span></a>). Embora a regra <span class="math inline">\(\{F = y\} \Rightarrow \{G = y\}\)</span> (isto √©, ‚Äúquem compra queijo tamb√©m costuma comprar vinho‚Äù) possa ser de interesse, a regra segundo a qual ‚Äúquem n√£o compra queijo tamb√©m n√£o compra vinho‚Äù dificilmente trar√° alguma informa√ß√£o pr√°tica. Em uma Base de Dados muito grande, regras desse tipo podem aparecer em quantidades proibitivamente elevadas.</p>
<p>Com o arquivo ‚ÄúTransacoes_2.arff‚Äù foram geradas 30 Regras de Associa√ß√£o (<a href="#fig-2-13" class="quarto-xref">Figura&nbsp;<span>2.13</span></a>), sendo que as regras ilustrativas do texto te√≥rico do Cap√≠tulo 2, envolvendo o <span class="math inline">\(\mathbf{CF} = \{A, B, C\}\)</span>, aparecem na <a href="#fig-2-13" class="quarto-xref">Figura&nbsp;<span>2.13</span></a> como as regras 15, 16 e 17.</p>
<div id="fig-2-13" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-2-13-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/fig2_13.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-2-13-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2.13: As 30 Regras de Associa√ß√£o Geradas com o Arquivo ‚ÄúTransacoes_2.arff‚Äù.
</figcaption>
</figure>
</div>
<p>H√° outras formas de melhorar a qualidade dos resultados e controlar o n√∫mero de regras geradas, por exemplo, atrav√©s do par√¢metro <span class="math inline">\(\mathbf{Lift}\)</span>, cujo significado fica como li√ß√£o de casa.</p>
</section>
<section id="pr√°tica-em-python" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="pr√°tica-em-python"><span class="header-section-number">2.7</span> üß™ Pr√°tica em Python</h2>
<section id="introdu√ß√£o-1" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="introdu√ß√£o-1"><span class="header-section-number">2.7.1</span> Introdu√ß√£o</h3>
<p>A atividade de <strong>Regras de Associa√ß√£o</strong> foi o t√≥pico escolhido para iniciarmos as principais atividades da Minera√ß√£o de Dados por envolver ideias bem intuitivas. A analogia entre Regras de Associa√ß√£o e <strong>Cesta de Compras</strong> facilita o entendimento de como descobrir padr√µes de associa√ß√£o entre itens de um conjunto qualquer.</p>
<p>Uma <strong>Regra de Associa√ß√£o</strong> possui a forma:</p>
<p><span class="math display">\[\mathbf{X} \Rightarrow \mathbf{Y}, \quad \text{sendo } \mathbf{X} \cap \mathbf{Y} = \varnothing\]</span></p>
<p>onde <span class="math inline">\(\mathbf{X}\)</span> √© o <strong>antecedente</strong> e <span class="math inline">\(\mathbf{Y}\)</span> o <strong>consequente</strong>. Note que a associa√ß√£o n√£o implica <strong>causalidade</strong> ‚Äî apenas ocorr√™ncia simult√¢nea com certa probabilidade.</p>
</section>
<section id="pr√°tica-1-configura√ß√£o-e-dados-estruturados" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="pr√°tica-1-configura√ß√£o-e-dados-estruturados"><span class="header-section-number">2.7.2</span> üîπ Pr√°tica 1 ‚Äî Configura√ß√£o e Dados Estruturados</h3>
<p>Retomamos o padr√£o do cap√≠tulo anterior, todos os <code>import</code> no topo, verifica√ß√£o de vers√µes e uso de <strong>dicion√°rios</strong> para estruturar os dados antes de convert√™-los em <code>DataFrames</code>.</p>
<div id="cell-57" class="cell" data-execution_count="334">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># BLOCO DE IMPORTA√á√ïES</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> combinations</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.patches <span class="im">as</span> mpatches</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Python    : </span><span class="sc">{</span>sys<span class="sc">.</span>version<span class="sc">.</span>split()[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Pandas    : </span><span class="sc">{</span>pd<span class="sc">.</span>__version__<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"NumPy     : </span><span class="sc">{</span>np<span class="sc">.</span>__version__<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"‚úÖ Ambiente pronto!"</span>)</span></code></pre></div><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Python    : 3.9.7
Pandas    : 2.3.3
NumPy     : 2.0.2
‚úÖ Ambiente pronto!</code></pre>
</div>
</div>
</section>
<section id="pr√°tica-2-representa√ß√£o-de-transa√ß√µes" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="pr√°tica-2-representa√ß√£o-de-transa√ß√µes"><span class="header-section-number">2.7.3</span> üîπ Pr√°tica 2 ‚Äî Representa√ß√£o de Transa√ß√µes</h3>
<p>Os dados de uma Cesta de Compras podem ser representados de duas formas equivalentes:</p>
<ol type="1">
<li><strong>Formato de listas</strong> (cada transa√ß√£o √© um conjunto de itens)</li>
<li><strong>Formato booleano</strong> (matriz transa√ß√£o √ó item)</li>
</ol>
<p>O formato booleano √© mais eficiente computacionalmente e √© o que algoritmos como o <strong>Apriori</strong> utilizam internamente.</p>
<blockquote class="blockquote">
<p>üí° <strong>Novo conceito Python:</strong> <code>set</code> ‚Äî cole√ß√£o <strong>sem ordem</strong> e <strong>sem duplicatas</strong>, ideal para opera√ß√µes de conjuntos (‚à™, ‚à©, ‚àí). Perfeitamente alinhado com a nota√ß√£o matem√°tica de Regras de Associa√ß√£o.</p>
</blockquote>
<div id="cell-59" class="cell" data-execution_count="335">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Transa√ß√µes: cada elemento √© um frozenset (set imut√°vel)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos frozenset pois sets n√£o s√£o hashe√°veis (n√£o podem</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ser chaves de dicion√°rio ou elementos de outro set).</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>transacoes_raw <span class="op">=</span> [</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Arroz"</span>, <span class="st">"Feij√£o"</span>, <span class="st">"√ìleo"</span>},</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Queijo"</span>, <span class="st">"Vinho"</span>},</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Arroz"</span>, <span class="st">"Feij√£o"</span>, <span class="st">"Batata"</span>, <span class="st">"√ìleo"</span>},</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Arroz"</span>, <span class="st">"√Ågua"</span>, <span class="st">"Queijo"</span>, <span class="st">"Vinho"</span>},</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Arroz"</span>, <span class="st">"Feij√£o"</span>, <span class="st">"Batata"</span>, <span class="st">"√ìleo"</span>},</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>transacoes <span class="op">=</span> [<span class="bu">frozenset</span>(t) <span class="cf">for</span> t <span class="kw">in</span> transacoes_raw]</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Universo de itens √∫nicos</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>todos_itens <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>().union(<span class="op">*</span>transacoes))</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="bu">len</span>(transacoes)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Transa√ß√µes (N=</span><span class="sc">{</span>N<span class="sc">}</span><span class="ss">):"</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, t <span class="kw">in</span> <span class="bu">enumerate</span>(transacoes, start<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  T</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span><span class="bu">sorted</span>(t)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Universo de itens (</span><span class="sc">{</span><span class="bu">len</span>(todos_itens)<span class="sc">}</span><span class="ss">): </span><span class="sc">{</span>todos_itens<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Representa√ß√£o booleana com Pandas</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>df_bool <span class="op">=</span> pd.DataFrame(</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    [[item <span class="kw">in</span> t <span class="cf">for</span> item <span class="kw">in</span> todos_itens] <span class="cf">for</span> t <span class="kw">in</span> transacoes],</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>todos_itens,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span>[<span class="ss">f"T</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, N<span class="op">+</span><span class="dv">1</span>)]</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>).astype(<span class="bu">int</span>)  <span class="co"># True/False ‚Üí 1/0 para facilitar somas</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Representa√ß√£o Booleana:"</span>)</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_bool.to_string())</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Frequ√™ncia por item:"</span>)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_bool.<span class="bu">sum</span>().sort_values(ascending<span class="op">=</span><span class="va">False</span>).to_string())</span></code></pre></div><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Transa√ß√µes (N=5):
  T1: ['Arroz', 'Feij√£o', '√ìleo']
  T2: ['Queijo', 'Vinho']
  T3: ['Arroz', 'Batata', 'Feij√£o', '√ìleo']
  T4: ['Arroz', 'Queijo', 'Vinho', '√Ågua']
  T5: ['Arroz', 'Batata', 'Feij√£o', '√ìleo']

Universo de itens (7): ['Arroz', 'Batata', 'Feij√£o', 'Queijo', 'Vinho', '√Ågua', '√ìleo']

Representa√ß√£o Booleana:
    Arroz  Batata  Feij√£o  Queijo  Vinho  √Ågua  √ìleo
T1      1       0       1       0      0     0     1
T2      0       0       0       1      1     0     0
T3      1       1       1       0      0     0     1
T4      1       0       0       1      1     1     0
T5      1       1       1       0      0     0     1

Frequ√™ncia por item:
Arroz     4
Feij√£o    3
√ìleo      3
Batata    2
Queijo    2
Vinho     2
√Ågua      1</code></pre>
</div>
</div>
</section>
<section id="pr√°tica-3-implementando-suporte-e-confian√ßa" class="level3" data-number="2.7.4">
<h3 data-number="2.7.4" class="anchored" data-anchor-id="pr√°tica-3-implementando-suporte-e-confian√ßa"><span class="header-section-number">2.7.4</span> üîπ Pr√°tica 3 ‚Äî Implementando Suporte e Confian√ßa</h3>
<p>Para avaliar a qualidade das regras, usamos duas m√©tricas fundamentais:</p>
<p><span class="math display">\[\text{Sup}(X \Rightarrow Y) = \frac{|X \cup Y|}{N}\]</span></p>
<p><span class="math display">\[\text{Conf}(X \Rightarrow Y) = \frac{\text{Sup}(X \Rightarrow Y)}{\text{Sup}(X)} = \frac{|X \cup Y|}{|X|}\]</span></p>
<ul>
<li><strong>Suporte</strong> mede a <strong>cobertura</strong> da regra (quantas transa√ß√µes a cont√™m).</li>
<li><strong>Confian√ßa</strong> mede a <strong>precis√£o</strong> da regra (dado X, qual a probabilidade de Y).</li>
</ul>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Nota</span>üí° Novos conceitos Python para Minera√ß√£o
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para implementar algoritmos como o <strong>Apriori</strong> de forma eficiente, √© fundamental dominar ferramentas que otimizam o processamento de grandes volumes de dados:</p>
<ul>
<li><strong><code>defaultdict</code></strong>: Dicion√°rio do m√≥dulo <code>collections</code> que atribui um valor padr√£o autom√°tico. √â ideal para a contagem de <strong>Suporte</strong>, pois evita erros ao tentar acessar chaves que ainda n√£o foram inseridas.</li>
<li><strong><code>combinations</code></strong>: Fun√ß√£o do m√≥dulo <code>itertools</code> que gera todas as combina√ß√µes poss√≠veis de um conjunto de itens. √â essencial na <strong>Etapa 1</strong> do KDD para criar candidatos a conjuntos frequentes.</li>
<li><strong>Generators (Geradores)</strong>: Estruturas que produzem valores sob demanda (utilizando <code>yield</code>). Eles economizam mem√≥ria RAM ao n√£o carregar todas as combina√ß√µes simultaneamente, o que √© crucial em bases de dados volumosas.</li>
</ul>
</div>
</div>
<div id="cell-61" class="cell" data-execution_count="336">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calcular_suporte(itemset: <span class="bu">frozenset</span>, transacoes: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Calcula o suporte de um itemset nas transa√ß√µes.</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">        itemset: conjunto de itens a verificar.</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">        transacoes: lista de frozensets representando as transa√ß√µes.</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">        Suporte como propor√ß√£o (0.0 ‚Äì 1.0).</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    contagem <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> t <span class="kw">in</span> transacoes <span class="cf">if</span> itemset.issubset(t))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> contagem <span class="op">/</span> <span class="bu">len</span>(transacoes)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calcular_confianca(antecedente: <span class="bu">frozenset</span>, consequente: <span class="bu">frozenset</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>                       transacoes: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">    Calcula a confian√ßa de X ‚Üí Y.</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co">        antecedente: itemset X.</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co">        consequente: itemset Y.</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co">        transacoes: lista de frozensets.</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co">        Confian√ßa como propor√ß√£o (0.0 ‚Äì 1.0).</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="co">        Retorna 0.0 se o antecedente n√£o ocorre.</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    sup_antec <span class="op">=</span> calcular_suporte(antecedente, transacoes)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> sup_antec <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">0.0</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    sup_uniao <span class="op">=</span> calcular_suporte(antecedente <span class="op">|</span> consequente, transacoes)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> sup_uniao <span class="op">/</span> sup_antec</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Teste das m√©tricas com as regras do texto</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>regras_exemplo <span class="op">=</span> [</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    (<span class="bu">frozenset</span>([<span class="st">"Arroz"</span>]),         <span class="bu">frozenset</span>([<span class="st">"Feij√£o"</span>]),  <span class="st">"Arroz ‚Üí Feij√£o"</span>),</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    (<span class="bu">frozenset</span>([<span class="st">"Feij√£o"</span>]),        <span class="bu">frozenset</span>([<span class="st">"√ìleo"</span>]),    <span class="st">"Feij√£o ‚Üí √ìleo"</span>),</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    (<span class="bu">frozenset</span>([<span class="st">"Arroz"</span>,<span class="st">"Feij√£o"</span>]),<span class="bu">frozenset</span>([<span class="st">"Batata"</span>]),  <span class="st">"Arroz,Feij√£o ‚Üí Batata"</span>),</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>    (<span class="bu">frozenset</span>([<span class="st">"Queijo"</span>]),        <span class="bu">frozenset</span>([<span class="st">"Vinho"</span>]),   <span class="st">"Queijo ‚Üí Vinho"</span>),</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Regra'</span><span class="sc">:&lt;25}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'Suporte'</span><span class="sc">:&gt;8}</span><span class="ss"> </span><span class="sc">{</span><span class="st">'Confian√ßa'</span><span class="sc">:&gt;10}</span><span class="ss">"</span>)</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"-"</span> <span class="op">*</span> <span class="dv">46</span>)</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ant, cons, label <span class="kw">in</span> regras_exemplo:</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    sup  <span class="op">=</span> calcular_suporte(ant <span class="op">|</span> cons, transacoes)</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    conf <span class="op">=</span> calcular_confianca(ant, cons, transacoes)</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>label<span class="sc">:&lt;25}</span><span class="ss"> </span><span class="sc">{</span>sup<span class="sc">:&gt;8.2f}</span><span class="ss"> </span><span class="sc">{</span>conf<span class="sc">:&gt;10.2f}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Regra                      Suporte  Confian√ßa
----------------------------------------------
Arroz ‚Üí Feij√£o                0.60       0.75
Feij√£o ‚Üí √ìleo                 0.60       1.00
Arroz,Feij√£o ‚Üí Batata         0.40       0.67
Queijo ‚Üí Vinho                0.40       1.00</code></pre>
</div>
</div>
</section>
<section id="pr√°tica-4-algoritmo-apriori-simplificado" class="level3" data-number="2.7.5">
<h3 data-number="2.7.5" class="anchored" data-anchor-id="pr√°tica-4-algoritmo-apriori-simplificado"><span class="header-section-number">2.7.5</span> üîπ Pr√°tica 4 ‚Äî Algoritmo Apriori Simplificado</h3>
<p>O algoritmo <strong>Apriori</strong> <span class="citation" data-cites="agrawal1993mining">(<a href="#ref-agrawal1993mining" role="doc-biblioref">Agrawal; Imieli≈Ñski; Swami, 1993</a>)</span> √© o mais cl√°ssico para minera√ß√£o de regras de associa√ß√£o. Sua ideia central √© a <strong>propriedade anti-monot√¥nica do suporte</strong>:</p>
<blockquote class="blockquote">
<p>Se um itemset tem suporte <em>menor</em> que o m√≠nimo, nenhum de seus superconjuntos pode ter suporte maior.</p>
</blockquote>
<p>Isso permite <strong>podar</strong> o espa√ßo de busca exponencialmente.</p>
<div class="callout callout-style-simple callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Dica</span>üí° Novos conceitos Python para Estrutura√ß√£o de Dados
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para evoluir a implementa√ß√£o dos algoritmos de Minera√ß√£o de Dados, o Python moderno oferece estruturas que tornam o c√≥digo mais leg√≠vel e eficiente:</p>
<ul>
<li><strong><code>dataclass</code> (Python 3.7+)</strong>: Forma moderna de criar classes de dados. Gera automaticamente m√©todos √∫teis como <code>__init__</code> e <code>__repr__</code>, facilitando a visualiza√ß√£o de transa√ß√µes complexas sem c√≥digo repetitivo.</li>
<li><strong><code>typing.NamedTuple</code></strong>: Uma alternativa imut√°vel para armazenar resultados (como pares de itens e seus suportes). √â mais leve que uma classe comum e permite acessar os dados por nome (ex: <code>resultado.suporte</code>) em vez de apenas √≠ndices.</li>
<li><strong>Recurs√£o Controlada</strong>: T√©cnica de programa√ß√£o para gerar itemsets de tamanho <span class="math inline">\(k\)</span> a partir de <span class="math inline">\(k-1\)</span>. √â vital aplicar um limite de tamanho para evitar o estouro de mem√≥ria ao processar combina√ß√µes em bases com muitos itens diferentes.</li>
</ul>
</div>
</div>
<div id="cell-63" class="cell" data-execution_count="337">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dataclasses <span class="im">import</span> dataclass, field</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> RegraAssociacao:</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Representa uma regra de associa√ß√£o com suas m√©tricas."""</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    antecedente: <span class="bu">frozenset</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    consequente: <span class="bu">frozenset</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    suporte:    <span class="bu">float</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    confianca:  <span class="bu">float</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    lift:       <span class="bu">float</span> <span class="op">=</span> field(init<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> __post_init__(<span class="va">self</span>):</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Lift = confian√ßa / suporte do consequente</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Lift &gt; 1: associa√ß√£o positiva; &lt; 1: negativa; = 1: independ√™ncia</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        sup_cons <span class="op">=</span> calcular_suporte(<span class="va">self</span>.consequente, transacoes)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.lift <span class="op">=</span> <span class="va">self</span>.confianca <span class="op">/</span> sup_cons <span class="cf">if</span> sup_cons <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="fl">0.0</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        ant <span class="op">=</span> <span class="st">", "</span>.join(<span class="bu">sorted</span>(<span class="va">self</span>.antecedente))</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        con <span class="op">=</span> <span class="st">", "</span>.join(<span class="bu">sorted</span>(<span class="va">self</span>.consequente))</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> (<span class="ss">f"</span><span class="sc">{</span>ant<span class="sc">}</span><span class="ss"> ‚Üí </span><span class="sc">{</span>con<span class="sc">}</span><span class="ss"> "</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                <span class="ss">f"[sup=</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>suporte<span class="sc">:.2f}</span><span class="ss">, conf=</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>confianca<span class="sc">:.2f}</span><span class="ss">, "</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>                <span class="ss">f"lift=</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>lift<span class="sc">:.2f}</span><span class="ss">]"</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> apriori(transacoes: <span class="bu">list</span>, sup_min: <span class="bu">float</span> <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>            conf_min: <span class="bu">float</span> <span class="op">=</span> <span class="fl">0.6</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co">    Implementa√ß√£o simplificada do algoritmo Apriori.</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">        transacoes: lista de frozensets.</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">        sup_min: suporte m√≠nimo (0.0 ‚Äì 1.0).</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co">        conf_min: confian√ßa m√≠nima (0.0 ‚Äì 1.0).</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co">        Lista de RegraAssociacao ordenada por lift (decrescente).</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    itens <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>().union(<span class="op">*</span>transacoes))</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    regras: <span class="bu">list</span>[RegraAssociacao] <span class="op">=</span> []</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- Passo 1: itemsets frequentes ---</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    frequentes: <span class="bu">list</span>[<span class="bu">frozenset</span>] <span class="op">=</span> []</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    candidatos_k <span class="op">=</span> [<span class="bu">frozenset</span>([i]) <span class="cf">for</span> i <span class="kw">in</span> itens]  <span class="co"># 1-itemsets</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> candidatos_k:</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>        freq_k <span class="op">=</span> [c <span class="cf">for</span> c <span class="kw">in</span> candidatos_k</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">if</span> calcular_suporte(c, transacoes) <span class="op">&gt;=</span> sup_min]</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>        frequentes.extend(freq_k)</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> freq_k:</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Gera candidatos k+1 por combina√ß√£o dos frequentes de tamanho k</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>        k <span class="op">=</span> <span class="bu">len</span>(freq_k[<span class="dv">0</span>]) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>        candidatos_k <span class="op">=</span> [</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>            a <span class="op">|</span> b</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> a, b <span class="kw">in</span> combinations(freq_k, <span class="dv">2</span>)</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">len</span>(a <span class="op">|</span> b) <span class="op">==</span> k</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Remove duplicatas</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>        candidatos_k <span class="op">=</span> <span class="bu">list</span>({c: <span class="va">None</span> <span class="cf">for</span> c <span class="kw">in</span> candidatos_k})</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Itemsets frequentes (sup ‚â• </span><span class="sc">{</span>sup_min<span class="sc">}</span><span class="ss">):"</span>)</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> f <span class="kw">in</span> <span class="bu">sorted</span>(frequentes, key<span class="op">=</span><span class="bu">len</span>):</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span><span class="bu">sorted</span>(f)<span class="sc">}</span><span class="ss">  sup=</span><span class="sc">{</span>calcular_suporte(f, transacoes)<span class="sc">:.2f}</span><span class="ss">"</span>)</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- Passo 2: gera√ß√£o de regras ---</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> itemset <span class="kw">in</span> frequentes:</span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(itemset) <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> tam_ant <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(itemset)):</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> ant <span class="kw">in</span> combinations(itemset, tam_ant):</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>                ant <span class="op">=</span> <span class="bu">frozenset</span>(ant)</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>                con <span class="op">=</span> itemset <span class="op">-</span> ant</span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>                sup  <span class="op">=</span> calcular_suporte(itemset, transacoes)</span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>                conf <span class="op">=</span> calcular_confianca(ant, con, transacoes)</span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> conf <span class="op">&gt;=</span> conf_min:</span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>                    regras.append(RegraAssociacao(ant, con, sup, conf))</span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(regras, key<span class="op">=</span><span class="kw">lambda</span> r: r.lift, reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Execu√ß√£o</span></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">55</span>)</span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>regras_encontradas <span class="op">=</span> apriori(transacoes, sup_min<span class="op">=</span><span class="fl">0.4</span>, conf_min<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Regras encontradas (</span><span class="sc">{</span><span class="bu">len</span>(regras_encontradas)<span class="sc">}</span><span class="ss">):"</span>)</span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">55</span>)</span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> r <span class="kw">in</span> regras_encontradas:</span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>r<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>=======================================================
Itemsets frequentes (sup ‚â• 0.4):
  ['Arroz']  sup=0.80
  ['Batata']  sup=0.40
  ['Feij√£o']  sup=0.60
  ['Queijo']  sup=0.40
  ['Vinho']  sup=0.40
  ['√ìleo']  sup=0.60
  ['Arroz', 'Batata']  sup=0.40
  ['Arroz', 'Feij√£o']  sup=0.60
  ['Arroz', '√ìleo']  sup=0.60
  ['Batata', 'Feij√£o']  sup=0.40
  ['Batata', '√ìleo']  sup=0.40
  ['Feij√£o', '√ìleo']  sup=0.60
  ['Queijo', 'Vinho']  sup=0.40
  ['Arroz', 'Batata', 'Feij√£o']  sup=0.40
  ['Arroz', 'Batata', '√ìleo']  sup=0.40
  ['Arroz', 'Feij√£o', '√ìleo']  sup=0.60
  ['Batata', 'Feij√£o', '√ìleo']  sup=0.40
  ['Arroz', 'Batata', 'Feij√£o', '√ìleo']  sup=0.40

Regras encontradas (48):
=======================================================
  Vinho ‚Üí Queijo [sup=0.40, conf=1.00, lift=2.50]
  Queijo ‚Üí Vinho [sup=0.40, conf=1.00, lift=2.50]
  Feij√£o ‚Üí Batata [sup=0.40, conf=0.67, lift=1.67]
  Batata ‚Üí Feij√£o [sup=0.40, conf=1.00, lift=1.67]
  Batata ‚Üí √ìleo [sup=0.40, conf=1.00, lift=1.67]
  √ìleo ‚Üí Batata [sup=0.40, conf=0.67, lift=1.67]
  Feij√£o ‚Üí √ìleo [sup=0.60, conf=1.00, lift=1.67]
  √ìleo ‚Üí Feij√£o [sup=0.60, conf=1.00, lift=1.67]
  Feij√£o ‚Üí Arroz, Batata [sup=0.40, conf=0.67, lift=1.67]
  Batata ‚Üí Arroz, Feij√£o [sup=0.40, conf=1.00, lift=1.67]
  Arroz, Feij√£o ‚Üí Batata [sup=0.40, conf=0.67, lift=1.67]
  Arroz, Batata ‚Üí Feij√£o [sup=0.40, conf=1.00, lift=1.67]
  Batata ‚Üí Arroz, √ìleo [sup=0.40, conf=1.00, lift=1.67]
  √ìleo ‚Üí Arroz, Batata [sup=0.40, conf=0.67, lift=1.67]
  Arroz, Batata ‚Üí √ìleo [sup=0.40, conf=1.00, lift=1.67]
  Arroz, √ìleo ‚Üí Batata [sup=0.40, conf=0.67, lift=1.67]
  Feij√£o ‚Üí Arroz, √ìleo [sup=0.60, conf=1.00, lift=1.67]
  √ìleo ‚Üí Arroz, Feij√£o [sup=0.60, conf=1.00, lift=1.67]
  Arroz, Feij√£o ‚Üí √ìleo [sup=0.60, conf=1.00, lift=1.67]
  Arroz, √ìleo ‚Üí Feij√£o [sup=0.60, conf=1.00, lift=1.67]
  Feij√£o ‚Üí Batata, √ìleo [sup=0.40, conf=0.67, lift=1.67]
  Batata ‚Üí Feij√£o, √ìleo [sup=0.40, conf=1.00, lift=1.67]
  √ìleo ‚Üí Batata, Feij√£o [sup=0.40, conf=0.67, lift=1.67]
  Batata, Feij√£o ‚Üí √ìleo [sup=0.40, conf=1.00, lift=1.67]
  Feij√£o, √ìleo ‚Üí Batata [sup=0.40, conf=0.67, lift=1.67]
  Batata, √ìleo ‚Üí Feij√£o [sup=0.40, conf=1.00, lift=1.67]
  Feij√£o ‚Üí Arroz, Batata, √ìleo [sup=0.40, conf=0.67, lift=1.67]
  Batata ‚Üí Arroz, Feij√£o, √ìleo [sup=0.40, conf=1.00, lift=1.67]
  √ìleo ‚Üí Arroz, Batata, Feij√£o [sup=0.40, conf=0.67, lift=1.67]
  Batata, Feij√£o ‚Üí Arroz, √ìleo [sup=0.40, conf=1.00, lift=1.67]
  Feij√£o, √ìleo ‚Üí Arroz, Batata [sup=0.40, conf=0.67, lift=1.67]
  Arroz, Feij√£o ‚Üí Batata, √ìleo [sup=0.40, conf=0.67, lift=1.67]
  Batata, √ìleo ‚Üí Arroz, Feij√£o [sup=0.40, conf=1.00, lift=1.67]
  Arroz, Batata ‚Üí Feij√£o, √ìleo [sup=0.40, conf=1.00, lift=1.67]
  Arroz, √ìleo ‚Üí Batata, Feij√£o [sup=0.40, conf=0.67, lift=1.67]
  Arroz, Batata, Feij√£o ‚Üí √ìleo [sup=0.40, conf=1.00, lift=1.67]
  Arroz, Feij√£o, √ìleo ‚Üí Batata [sup=0.40, conf=0.67, lift=1.67]
  Arroz, Batata, √ìleo ‚Üí Feij√£o [sup=0.40, conf=1.00, lift=1.67]
  Batata ‚Üí Arroz [sup=0.40, conf=1.00, lift=1.25]
  Feij√£o ‚Üí Arroz [sup=0.60, conf=1.00, lift=1.25]
  √ìleo ‚Üí Arroz [sup=0.60, conf=1.00, lift=1.25]
  Batata, Feij√£o ‚Üí Arroz [sup=0.40, conf=1.00, lift=1.25]
  Batata, √ìleo ‚Üí Arroz [sup=0.40, conf=1.00, lift=1.25]
  Feij√£o, √ìleo ‚Üí Arroz [sup=0.60, conf=1.00, lift=1.25]
  Batata, Feij√£o, √ìleo ‚Üí Arroz [sup=0.40, conf=1.00, lift=1.25]
  Arroz ‚Üí Feij√£o [sup=0.60, conf=0.75, lift=1.25]
  Arroz ‚Üí √ìleo [sup=0.60, conf=0.75, lift=1.25]
  Arroz ‚Üí Feij√£o, √ìleo [sup=0.60, conf=0.75, lift=1.25]</code></pre>
</div>
</div>
</section>
<section id="pr√°tica-5-simula√ß√£o-do-apriori-cl√°ssico-join-prune" class="level3" data-number="2.7.6">
<h3 data-number="2.7.6" class="anchored" data-anchor-id="pr√°tica-5-simula√ß√£o-do-apriori-cl√°ssico-join-prune"><span class="header-section-number">2.7.6</span> üîπ Pr√°tica 5 ‚Äî Simula√ß√£o do Apriori Cl√°ssico (Join &amp; Prune)</h3>
<p>Nesta etapa, vamos focar na <strong>Gera√ß√£o de Candidatos</strong> de forma eficiente, como descrito nas obras de <span class="citation" data-cites="agrawal1993mining">Agrawal; Imieli≈Ñski; Swami (<a href="#ref-agrawal1993mining" role="doc-biblioref">1993</a>)</span> e <span class="citation" data-cites="han2008">Han; Kamber (<a href="#ref-han2008" role="doc-biblioref">2008</a>)</span>.</p>
<div id="cell-65" class="cell" data-execution_count="338">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Pr√°tica 5: Implementa√ß√£o da L√≥gica de "Join" do Apriori</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ----------------------------------------------------------</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> apriori_gen(freq_k_minus_1: <span class="bu">list</span>, k: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Gera candidatos de tamanho k seguindo a regra do Apriori cl√°ssico:</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Une conjuntos que possuem os mesmos (k-2) primeiros itens.</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    candidatos <span class="op">=</span> []</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    lista_ordenada <span class="op">=</span> [<span class="bu">sorted</span>(<span class="bu">list</span>(i)) <span class="cf">for</span> i <span class="kw">in</span> freq_k_minus_1]</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(lista_ordenada)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i <span class="op">+</span> <span class="dv">1</span>, n):</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Passo de Join: verifica se os primeiros k-2 itens s√£o iguais</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Para k=2 (itens individuais), o prefixo √© vazio [], ent√£o todos se unem.</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> k <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>                candidatos <span class="op">=</span> [<span class="bu">frozenset</span>(a) <span class="op">|</span> <span class="bu">frozenset</span>(b)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>                            <span class="cf">for</span> a, b <span class="kw">in</span> combinations(freq_k_minus_1, <span class="dv">2</span>)]</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> lista_ordenada[i][:k<span class="op">-</span><span class="dv">2</span>] <span class="op">==</span> lista_ordenada[j][:k<span class="op">-</span><span class="dv">2</span>]:</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>                novo_candidato <span class="op">=</span> <span class="bu">frozenset</span>(lista_ordenada[i]) <span class="op">|</span> <span class="bu">frozenset</span>(lista_ordenada[j])</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Passo de Prune: Propriedade Anti-monot√¥nica</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Verifica se todos os subconjuntos de tamanho k-1 s√£o frequentes</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> todos_subconjuntos_frequentes(novo_candidato, freq_k_minus_1, k):</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>                    candidatos.append(novo_candidato)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">set</span>(candidatos))</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> todos_subconjuntos_frequentes(candidato: <span class="bu">frozenset</span>, freq_k_minus_1: <span class="bu">list</span>, k: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">bool</span>:</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Valida se todos os subconjuntos imediatos do candidato s√£o frequentes."""</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    subconjuntos <span class="op">=</span> [<span class="bu">frozenset</span>(c) <span class="cf">for</span> c <span class="kw">in</span> combinations(candidato, k<span class="op">-</span><span class="dv">1</span>)]</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> s <span class="kw">in</span> subconjuntos:</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> s <span class="kw">not</span> <span class="kw">in</span> freq_k_minus_1:</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Simula√ß√£o Passo a Passo ---</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"--- Gerando Candidatos L2 (tamanho 2) a partir de L1 ---"</span>)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>L1 <span class="op">=</span> [<span class="bu">frozenset</span>([i]) <span class="cf">for</span> i <span class="kw">in</span> todos_itens <span class="cf">if</span> calcular_suporte(<span class="bu">frozenset</span>([i]), transacoes) <span class="op">&gt;=</span> <span class="fl">0.4</span>]</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>C2 <span class="op">=</span> apriori_gen(L1, <span class="dv">2</span>)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Candidatos C2 gerados: </span><span class="sc">{</span><span class="bu">len</span>(C2)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> <span class="bu">sorted</span>([<span class="bu">sorted</span>(<span class="bu">list</span>(x)) <span class="cf">for</span> x <span class="kw">in</span> C2]): <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">--- Gerando Candidatos L3 (tamanho 3) a partir de L2 ---"</span>)</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>L2 <span class="op">=</span> [c <span class="cf">for</span> c <span class="kw">in</span> C2 <span class="cf">if</span> calcular_suporte(c, transacoes) <span class="op">&gt;=</span> <span class="fl">0.4</span>]</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>C3 <span class="op">=</span> apriori_gen(L2, <span class="dv">3</span>)</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Candidatos C3 gerados (ap√≥s poda): </span><span class="sc">{</span><span class="bu">len</span>(C3)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> c <span class="kw">in</span> <span class="bu">sorted</span>([<span class="bu">sorted</span>(<span class="bu">list</span>(x)) <span class="cf">for</span> x <span class="kw">in</span> C3]): <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>c<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>--- Gerando Candidatos L2 (tamanho 2) a partir de L1 ---
Candidatos C2 gerados: 15
  ['Arroz', 'Batata']
  ['Arroz', 'Feij√£o']
  ['Arroz', 'Queijo']
  ['Arroz', 'Vinho']
  ['Arroz', '√ìleo']
  ['Batata', 'Feij√£o']
  ['Batata', 'Queijo']
  ['Batata', 'Vinho']
  ['Batata', '√ìleo']
  ['Feij√£o', 'Queijo']
  ['Feij√£o', 'Vinho']
  ['Feij√£o', '√ìleo']
  ['Queijo', 'Vinho']
  ['Queijo', '√ìleo']
  ['Vinho', '√ìleo']

--- Gerando Candidatos L3 (tamanho 3) a partir de L2 ---
Candidatos C3 gerados (ap√≥s poda): 4
  ['Arroz', 'Batata', 'Feij√£o']
  ['Arroz', 'Batata', '√ìleo']
  ['Arroz', 'Feij√£o', '√ìleo']
  ['Batata', 'Feij√£o', '√ìleo']</code></pre>
</div>
</div>
<section id="explica√ß√£o-conceitual-do-fluxo-cl√°ssico" class="level4" data-number="2.7.6.1">
<h4 data-number="2.7.6.1" class="anchored" data-anchor-id="explica√ß√£o-conceitual-do-fluxo-cl√°ssico"><span class="header-section-number">2.7.6.1</span> Explica√ß√£o Conceitual do Fluxo Cl√°ssico:</h4>
<ul>
<li><strong>Gera√ß√£o de Candidatos (<span class="math inline">\(C_k\)</span>):</strong> Em vez de usar <code>combinations(todos_itens, k)</code>, o que seria proibitivo em bases grandes, o Apriori usa apenas os conjuntos que j√° provaram ser frequentes no n√≠vel anterior (<span class="math inline">\(L_{k-1}\)</span>).</li>
<li><strong>Poda (Pruning):</strong> Se um candidato a conjunto de 3 itens (ex: <code>{Arroz, Feij√£o, Batata}</code>) for gerado, mas o subconjunto <code>{Feij√£o, Batata}</code> n√£o estiver na lista de frequentes anterior, o candidato √© descartado imediatamente, antes mesmo de olharmos para a base de dados. Isso economiza processamento computacional massivo.</li>
<li><strong>Efici√™ncia:</strong> Essa abordagem reduz drasticamente o n√∫mero de acessos ao disco/mem√≥ria para contar o suporte, focando apenas no que √© estatisticamente promissor.</li>
</ul>
</section>
</section>
</section>
<section id="uso-do-notebooklm-como-tutor-complementar" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="uso-do-notebooklm-como-tutor-complementar"><span class="header-section-number">2.8</span> ü§ñ Uso do NotebookLM como Tutor Complementar</h2>
<p>Seguindo o padr√£o do cap√≠tulo anterior, al√©m dos notebooks interativos no Google Colab, incentiva-se o uso do <strong>NotebookLM</strong> como ferramenta complementar de aprendizagem. Essa ferramenta de IA utiliza exclusivamente os documentos fornecidos pelos autores como base de conhecimento, garantindo respostas alinhadas ao conte√∫do do livro.</p>
<p>Para cada cap√≠tulo, foi preparado um projeto espec√≠fico na plataforma. Para uma experi√™ncia de estudo ampliada, utilize o acesso abaixo:</p>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Importante</span>üéì Estude com o Tutor Inteligente
</div>
</div>
<div class="callout-body-container callout-body">
<p>Para interagir com o conte√∫do deste cap√≠tulo, acesse o link abaixo. O ambiente cont√©m materiais did√°ticos em diferentes formatos, gerados a partir do <strong>PDF</strong> do cap√≠tulo. Na plataforma, explore especialmente as op√ß√µes <strong>Guia de Estudo</strong> e <strong>Conversa</strong> para aprofundar sua compreens√£o.</p>
<p><a href="https://notebooklm.google.com/notebook/aca1138a-02aa-4f98-b777-1e25795ca635">üöÄ ACESSAR NOTEBOOKLM: CAP√çTULO 02</a></p>
</div>
</div>
</section>
<section id="considera√ß√µes-finais" class="level2 list-paragraph" data-number="2.9">
<h2 class="list-paragraph anchored" data-number="2.9" data-anchor-id="considera√ß√µes-finais"><span class="header-section-number">2.9</span> Considera√ß√µes Finais</h2>
<p>Um conjunto de Regras de Associa√ß√£o constitui uma forma de conhecimento extra√≠do de uma Base de Dados, sendo esta representa√ß√£o do conhecimento geralmente um tipo de aprendizado muito √∫til para aplica√ß√µes pr√°ticas, como o aumento de vendas de uma rede de supermercados, o projeto de cat√°logos de novos produtos ou o lan√ßamento de campanhas promocionais baseadas em vendas casadas. Geralmente quando fazemos busca na Web, ao digitarmos uma palavra de busca √© comum que outras palavras sejam sugeridas. Isso ocorre porque a ferramenta de busca est√° usando Regras de Associa√ß√£o e tem em sua Base de Dados registros de que pessoas que buscam a Palavra_1 geralmente buscam tamb√©m a <code>Palavra_2</code>, a <code>Palavra_3</code>, e assim por diante.</p>
<p>Nesta primeira abordagem da extra√ß√£o de conhecimento a partir de uma Base de Dados foi suficiente apenas um procedimento algoritmo, sem necessidade de infer√™ncias. Nos pr√≥ximos cap√≠tulos vamos mostrar que na pr√°tica √© comum nos depararmos com situa√ß√µes para as quais n√£o se conhece um algoritmo que produza o conhecimento necess√°rio para uma tomada de decis√£o. Para estes casos, ser√° necess√°rio pensar num mecanismo de infer√™ncia que nos permita chegar √† conclus√£o mais plaus√≠vel para determinada situa√ß√£o. Esse √© o caso de sistemas conhecidos como Sistemas Especialistas, que auxiliam por exemplo um m√©dico a fazer diagn√≥stico a partir dos sintomas do paciente. Como nem sempre os sintomas declarados pelo paciente s√£o compat√≠veis com determinada doen√ßa, ou ent√£o porque o paciente omite determinados sintomas importantes para o diagn√≥stico correto, o sistema precisa fazer infer√™ncias comparando sua Base [permanente] de Conhecimento com os sintomas declarados.</p>
<p>Regras de Associa√ß√£o frequentemente usam atributos nominais (por ex., temperatura elevada, amena, baixa) e mais raramente atributos num√©ricos (por ex. <span class="math inline">\(40^\circ\mathrm{C},\; 23^\circ\mathrm{C},\; 4^\circ\mathrm{C}\)</span>), porque algoritmos para extra√ß√£o de Regras de Associa√ß√£o com atributos num√©ricos n√£o costumam apresentar bom desempenho em grandes Bases de Dados. Al√©m disso, ao n√£o levar em conta por exemplo o pre√ßo de um artigo ou a quantidade de itens vendidos em cada transa√ß√£o, as Regras de Associa√ß√£o geralmente se transformam numa forma simplista de representa√ß√£o do conhecimento extra√≠do da Base de Dados.</p>
<p>No exemplo da Cesta de Artigos mostramos como gerar Regras de Associa√ß√£o que indiquem venda casada dos artigos mais comum. Mas, frequentemente, os especialistas em vendas n√£o est√£o muito interessados nestes itens porque a associa√ß√£o entre eles j√° √© conhecida. Na realidade, estes especialistas buscam pares de itens dos quais um deles √© um produto barato e o outro tem alta taxa de lucro. Nestes casos, lan√ßar uma superpromo√ß√£o do produto barato faz com que as vendas do produto com alta taxa de lucro aumente.</p>
<p>Em nossa Cesta de Artigos est√° impl√≠cito o padr√£o de associa√ß√£o entre Queijo e Vinho. Talvez a√≠, numa campanha de inverno, cadeias de supermercados possam fazer promo√ß√µes de queijos com o √∫nico prop√≥sito de vender mais vinhos. Mas como as vendas de ambos eram relativamente baixas, esta regra n√£o satisfez os crit√©rios estabelecidos de <span class="math inline">\(\mathbf{SupMin}\)</span> e <span class="math inline">\(\mathbf{ConfMin}\)</span>. E, no entanto, √© possivelmente este tipo de informa√ß√£o a mais procurada. O que fazer para conseguir minerar as p√©rolas de informa√ß√£o?</p>
</section>
<section id="lista-de-exerc√≠cios-1" class="level2 list-paragraph" data-number="2.10">
<h2 class="list-paragraph anchored" data-number="2.10" data-anchor-id="lista-de-exerc√≠cios-1"><span class="header-section-number">2.10</span> Lista de Exerc√≠cios</h2>
<ol type="1">
<li><p>(<span class="math inline">\(20\%\)</span>) Explique com suas pr√≥prias palavras a import√¢ncia do <strong>Suporte M√≠nimo (<span class="math inline">\(\mathbf{SupMin}\)</span>)</strong> e <strong>Confian√ßa M√≠nima (ConfMin)</strong> para a gera√ß√£o de <strong>Regras de Associa√ß√£o</strong>.</p></li>
<li><p>(<span class="math inline">\(30\%\)</span>) Explique com suas pr√≥prias palavras o que √© <strong>Conjunto Frequente</strong> no contexto das <strong>Regras de Associa√ß√£o</strong>.</p></li>
<li><p>(<span class="math inline">\(50\%\)</span>) Crie uma pequena <strong>Cesta de Compras</strong> (¬± 5 Exemplos) com itens relacionados ao seu ambiente de trabalho, ou √† √°rea de seu TCC, ou a qualquer outra √°rea de seu interesse, e gere as <strong>Regras de Associa√ß√£o</strong> no Weka. Anexe o respectivo arquivo ‚Äú<code>.arff</code>‚Äù, e um pequeno relat√≥rio sobre a simula√ß√£o.</p></li>
</ol>
<hr>
<section id="desafios-de-programa√ß√£o-extras" class="level3" data-number="2.10.1">
<h3 data-number="2.10.1" class="anchored" data-anchor-id="desafios-de-programa√ß√£o-extras"><span class="header-section-number">2.10.1</span> üîß Desafios de Programa√ß√£o (extras)</h3>
<ol start="4" type="1">
<li><p><strong>(M√©dio)</strong> Adicione a m√©trica <strong>Lift</strong> √† fun√ß√£o <code>apriori()</code> da Pr√°tica 4 como crit√©rio de filtragem (par√¢metro <code>lift_min</code>).</p></li>
<li><p><strong>(Avan√ßado)</strong> Pesquise o algoritmo <strong>FP-Growth</strong> como alternativa mais eficiente ao Apriori. Quais s√£o as principais vantagens em bases de dados muito grandes?</p></li>
</ol>
</section>
</section>
<section id="refer√™ncias-do-cap√≠tulo" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="refer√™ncias-do-cap√≠tulo"><span class="header-section-number">2.11</span> Refer√™ncias do Cap√≠tulo</h2>
<p>Este cap√≠tulo baseou-se nas obras fundamentais que consolidaram as bases da minera√ß√£o de dados: <span class="citation" data-cites="agrawal1993mining">Agrawal; Imieli≈Ñski; Swami (<a href="#ref-agrawal1993mining" role="doc-biblioref">1993</a>)</span>, para a introdu√ß√£o hist√≥rica e formal das regras de associa√ß√£o; <span class="citation" data-cites="frank2016weka">Frank; Hall; Witten (<a href="#ref-frank2016weka" role="doc-biblioref">2016</a>)</span>, como documenta√ß√£o t√©cnica e refer√™ncia do sistema WEKA; <span class="citation" data-cites="rocha2008analise">Rocha; Cortez; Neves (<a href="#ref-rocha2008analise" role="doc-biblioref">2008</a>)</span>, <span class="citation" data-cites="tan2009">Tan; Steinbach; Kumar (<a href="#ref-tan2009" role="doc-biblioref">2009</a>)</span> e <span class="citation" data-cites="witten2005">Witten; Frank (<a href="#ref-witten2005" role="doc-biblioref">2005</a>)</span>, para os conceitos estruturais do processo de descoberta de conhecimento (KDD) e algoritmos de minera√ß√£o; <span class="citation" data-cites="padhy2010">Padhy (<a href="#ref-padhy2010" role="doc-biblioref">2010</a>)</span>, para a integra√ß√£o com sistemas inteligentes; e o trabalho cl√°ssico de <span class="citation" data-cites="quinlan1986">Quinlan (<a href="#ref-quinlan1986" role="doc-biblioref">1986</a>)</span>, sobre a indu√ß√£o de √°rvores de decis√£o.</p>


<div id="refs" class="references csl-bib-body" data-entry-spacing="1" role="list">
<div id="ref-agrawal1993mining" class="csl-entry" role="listitem">
AGRAWAL, Rakesh; IMIELI≈ÉSKI, Tomasz; SWAMI, Arun. Mining association rules between sets of items in large databases. <em>In</em>: 1993.
</div>
<div id="ref-frank2016weka" class="csl-entry" role="listitem">
FRANK, Eibe; HALL, Mark A.; WITTEN, Ian H. <strong>The <span>WEKA</span> Workbench. Online Appendix for "Data Mining: Practical Machine Learning Tools and Techniques"</strong>. Online; Morgan Kaufmann, 2016. Dispon√≠vel em: &lt;<a href="https://ml.cms.waikato.ac.nz/weka/book.html">https://ml.cms.waikato.ac.nz/weka/book.html</a>&gt;
</div>
<div id="ref-han2008" class="csl-entry" role="listitem">
HAN, J.; KAMBER, M. <strong>Data Mining: Concepts and Techniques</strong>. <em>[S.l.]</em>: Morgan Kaufmann Publishers, 2008.
</div>
<div id="ref-padhy2010" class="csl-entry" role="listitem">
PADHY, N. P. <strong>Artificial Intelligence and Intelligent Systems</strong>. <em>[S.l.]</em>: Oxford University Press, 2010.
</div>
<div id="ref-quinlan1986" class="csl-entry" role="listitem">
QUINLAN, Ross. <strong>Induction of Decision Trees</strong>. <em>[S.l.: S.n.]</em>.
</div>
<div id="ref-rocha2008analise" class="csl-entry" role="listitem">
ROCHA, Miguel; CORTEZ, Paulo; NEVES, Jos√© Maia. <strong>An<span>√°</span>lise inteligente de dados: algoritmos e implementa<span>√ß</span><span>√£</span>o em Java</strong>. <em>[S.l.: S.n.]</em>.
</div>
<div id="ref-tan2009" class="csl-entry" role="listitem">
TAN, P. N.; STEINBACH, M.; KUMAR, V. <strong>Introdu√ß√£o ao Data Mining Minera√ß√£o de Dados</strong>. <em>[S.l.]</em>: Editora Ci√™ncia Moderna Ltda., 2009.
</div>
<div id="ref-witten2005" class="csl-entry" role="listitem">
WITTEN, I. H.; FRANK, E. <strong>Data Mining: Practical Machine Learning Tools and Techniques</strong>. <em>[S.l.]</em>: Morgan Kaufmann Publishers, 2005.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiada");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiada");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../cap01/cap01.html" class="pagination-link" aria-label="Sistemas Inteligentes">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Sistemas Inteligentes</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>¬© 2026 | <a href="https://www.ufabc.edu.br/ensino/docentes/jose-artur-quilici-gonzalez">Quilici-Gonzalez</a> , <a href="https://www.ufabc.edu.br/ensino/docentes/francisco-de-assis-zampirolli#">Zampirolli</a> e <a href="https://www.linkedin.com/in/frezendesouza/">Souza</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/fzampirolli/si-md2">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.ufabc.edu.br/">
<p>UFABC</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>